
<!DOCTYPE html>
<html lang="bg">
<head>
    <title>–ú–∞–∫—Ä–æ—Å–∏</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="rust,fmi">
    <link rel="stylesheet" href="resources/codeblock/codeblock.css">
<link rel="stylesheet" href="resources/frontend/controls.css">
<link rel="stylesheet" href="resources/global/global.css">
<link rel="stylesheet" href="resources/global/metadata.css">
<link rel="stylesheet" href="resources/highlight/hljs-github.css">
<link rel="stylesheet" href="resources/highlight/style.css">
<link rel="stylesheet" href="resources/highlight/tshl-github.css">
<link rel="stylesheet" href="resources/katex/katex.min.css">
<link rel="stylesheet" href="resources/rustc/rustc.css">
<link rel="stylesheet" href="resources/splitview/splitview.css">
<link rel="stylesheet" href="resources/wrapping-pages/wrapping-pages.css">
<script type="text/javascript" src="resources/codeblock/codeblock.js"></script>
<script type="text/javascript" src="resources/frontend/controls.js"></script>
</head>
<body>
    <main>
        <div class="slide">
<h1 id="–º–∞–∫—Ä–æ—Å–∏">–ú–∞–∫—Ä–æ—Å–∏</h1>
<h3 id="18-–Ω–æ–µ–º–≤—Ä–∏-2021">18 –Ω–æ–µ–º–≤—Ä–∏ 2021</h3>
</div><div class="slide">
<h1 id="–º–∞–∫—Ä–æ—Å–∏">–ú–∞–∫—Ä–æ—Å–∏</h1>
<p>–ö–∞–∫–≤–∞ –µ —Ü–µ–ª—Ç–∞ –∏–º?</p>
</div><div class="slide subslide">
<h1 id="–º–∞–∫—Ä–æ—Å–∏">–ú–∞–∫—Ä–æ—Å–∏</h1>
<p>–ö–∞–∫–≤–∞ –µ —Ü–µ–ª—Ç–∞ –∏–º?</p>
<p>–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–¥ –ø—Ä–µ–¥–∏ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è</p>
</div><div class="slide">
<h1 id="try">try!</h1>
<p>–¢–æ–≤–∞ –≤–µ—á–µ —Å–º–µ –≥–æ –≤–∏–∂–¥–∞–ª–∏, –º–∞–∫–∞—Ä –∏ –∑–∞ –∫—Ä–∞—Ç–∫–æ</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> try {
    <span class="tshl-punctuation_bracket">(</span>$expr:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {
        <span class="tshl-keyword">match</span> $expr {
            <span class="tshl-constructor">Ok</span><span class="tshl-punctuation_bracket">(</span>value<span class="tshl-punctuation_bracket">)</span> =&gt; value,
            <span class="tshl-constructor">Err</span><span class="tshl-punctuation_bracket">(</span>e<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-keyword">return</span> <span class="tshl-constructor">Err</span><span class="tshl-punctuation_bracket">(</span>e.into<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>,
        }
    }
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide subslide">
<h1 id="try">try!</h1>
<p>–¢–æ–≤–∞ –≤–µ—á–µ —Å–º–µ –≥–æ –≤–∏–∂–¥–∞–ª–∏, –º–∞–∫–∞—Ä –∏ –∑–∞ –∫—Ä–∞—Ç–∫–æ</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> try {
    <span class="tshl-punctuation_bracket">(</span>$expr:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {
        <span class="tshl-keyword">match</span> $expr {
            <span class="tshl-constructor">Ok</span><span class="tshl-punctuation_bracket">(</span>value<span class="tshl-punctuation_bracket">)</span> =&gt; value,
            <span class="tshl-constructor">Err</span><span class="tshl-punctuation_bracket">(</span>e<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-keyword">return</span> <span class="tshl-constructor">Err</span><span class="tshl-punctuation_bracket">(</span>e.into<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>,
        }
    }
}</code></pre>
                    </div>
                    
                </div>
                
<p>–í –Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏–∏ –Ω–∞ Rust —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏—è—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å <code>?</code> –∏ <code>try</code> –µ –∑–∞–ø–∞–∑–µ–Ω–∞ –¥—É–º–∞<br />
–ù–æ —Ç–æ–≤–∞ –µ –¥–æ–±—ä—Ä –ø—Ä–∏–º–µ—Ä –∑–∞ –ª–µ—Å–µ–Ω –º–∞–∫—Ä–æ—Å</p>
</div><div class="slide">
<h1 id="add">add!</h1>
<p>–û–±—â–∞—Ç–∞ —Å—Ö–µ–º–∞</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="6b0f96a7a5d598d3bdb6421c0e289d9f4728daec">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> add {
    <span class="tshl-punctuation_bracket">(</span>$var1:expr, $var2:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {
        $var1 + $var2;
    }
}

<span class="tshl-keyword">fn</span> <span class="tshl-function">main</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> {
    <span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, add!<span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">1</span>, <span class="tshl-constant_builtin">1</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, add!<span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;foo&quot;</span>.to_string<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span>, <span class="tshl-string">&quot;bar&quot;</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(187,187,85)">warning</span><span style="font-weight:bold">: trailing semicolon in macro used in expression position</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_6b0f96a7a5d598d3bdb6421c0e289d9f4728daec.rs:3:22
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">3</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>        $var1 + $var2;
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                     <span style="font-weight:bold;color:rgb(187,187,85)">^</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">8</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    println!("{}", add!(1, 1));
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                   <span style="font-weight:bold;color:rgb(85,85,255)">----------</span> <span style="font-weight:bold;color:rgb(85,85,255)">in this macro invocation</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: `#[warn(semicolon_in_expressions_from_macros)]` on by default
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">warning</span>: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: for more information, see issue #79813 &lt;https://github.com/rust-lang/rust/issues/79813&gt;
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: this warning originates in the macro `add` (in Nightly builds, run with -Z macro-backtrace for more info)

<span style="font-weight:bold;color:rgb(187,187,85)">warning</span><span style="font-weight:bold">: trailing semicolon in macro used in expression position</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_6b0f96a7a5d598d3bdb6421c0e289d9f4728daec.rs:3:22
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">3</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>        $var1 + $var2;
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                     <span style="font-weight:bold;color:rgb(187,187,85)">^</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">9</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    println!("{}", add!("foo".to_string(), "bar"));
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                   <span style="font-weight:bold;color:rgb(85,85,255)">------------------------------</span> <span style="font-weight:bold;color:rgb(85,85,255)">in this macro invocation</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">warning</span>: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: for more information, see issue #79813 &lt;https://github.com/rust-lang/rust/issues/79813&gt;
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: this warning originates in the macro `add` (in Nightly builds, run with -Z macro-backtrace for more info)</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="6b0f96a7a5d598d3bdb6421c0e289d9f4728daec">macro_rules! add {
    ($var1:expr, $var2:expr) => {
        $var1 + $var2;
    }
}

fn main() {
    println!("{}", add!(1, 1));
    println!("{}", add!("foo".to_string(), "bar"));
}</pre>
</div><div class="slide">
<h1 id="add">add!</h1>
<p>–û–±—â–∞—Ç–∞ —Å—Ö–µ–º–∞</p>
</div><div class="slide subslide">
<h1 id="add">add!</h1>
<p>–û–±—â–∞—Ç–∞ —Å—Ö–µ–º–∞</p>
<ul>
<li><code>macro_rules!</code> –≤—Å—ä—â–Ω–æ—Å—Ç –Ω–µ –µ –º–∞–∫—Ä–æ, –∞ –µ "syntax extension", –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ –Ω–∞ –Ω–∏–≤–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä</li>
</ul>
</div><div class="slide subslide">
<h1 id="add">add!</h1>
<p>–û–±—â–∞—Ç–∞ —Å—Ö–µ–º–∞</p>
<ul>
<li><code>macro_rules!</code> –≤—Å—ä—â–Ω–æ—Å—Ç –Ω–µ –µ –º–∞–∫—Ä–æ, –∞ –µ "syntax extension", –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ –Ω–∞ –Ω–∏–≤–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä</li>
<li>–ò–º–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞ —Å–ª–µ–¥–≤–∞–Ω–æ –æ—Ç —á–∏—Ñ—Ç —Å–∫–æ–±–∏ –∑–∞ —Ç—è–ª–æ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞: <code>macro_rules! add { ... }</code></li>
</ul>
</div><div class="slide subslide">
<h1 id="add">add!</h1>
<p>–û–±—â–∞—Ç–∞ —Å—Ö–µ–º–∞</p>
<ul>
<li><code>macro_rules!</code> –≤—Å—ä—â–Ω–æ—Å—Ç –Ω–µ –µ –º–∞–∫—Ä–æ, –∞ –µ "syntax extension", –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ –Ω–∞ –Ω–∏–≤–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä</li>
<li>–ò–º–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞ —Å–ª–µ–¥–≤–∞–Ω–æ –æ—Ç —á–∏—Ñ—Ç —Å–∫–æ–±–∏ –∑–∞ —Ç—è–ª–æ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞: <code>macro_rules! add { ... }</code></li>
<li>–ê—Ä–≥—É–º–µ–Ω—Ç–∏ –≤ —Å–∫–æ–±–∏, –ø–æ—Å–ª–µ–¥–≤–∞–Ω–∏ –æ—Ç —Å—Ç—Ä–µ–ª–∫–∏—á–∫–∞ –∏ –æ—â–µ –µ–¥–∏–Ω —á–∏—Ñ—Ç —Å–∫–æ–±–∏: <code>(...) =&gt; { ... }</code></li>
</ul>
</div><div class="slide subslide">
<h1 id="add">add!</h1>
<p>–û–±—â–∞—Ç–∞ —Å—Ö–µ–º–∞</p>
<ul>
<li><code>macro_rules!</code> –≤—Å—ä—â–Ω–æ—Å—Ç –Ω–µ –µ –º–∞–∫—Ä–æ, –∞ –µ "syntax extension", –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ –Ω–∞ –Ω–∏–≤–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä</li>
<li>–ò–º–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞ —Å–ª–µ–¥–≤–∞–Ω–æ –æ—Ç —á–∏—Ñ—Ç —Å–∫–æ–±–∏ –∑–∞ —Ç—è–ª–æ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞: <code>macro_rules! add { ... }</code></li>
<li>–ê—Ä–≥—É–º–µ–Ω—Ç–∏ –≤ —Å–∫–æ–±–∏, –ø–æ—Å–ª–µ–¥–≤–∞–Ω–∏ –æ—Ç —Å—Ç—Ä–µ–ª–∫–∏—á–∫–∞ –∏ –æ—â–µ –µ–¥–∏–Ω —á–∏—Ñ—Ç —Å–∫–æ–±–∏: <code>(...) =&gt; { ... }</code></li>
<li>–í—Å–∏—á–∫–∏ —Ç–µ–∑–∏ —Å–∫–æ–±–∏ —Å–∞ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º–∏ –∏–∑–º–µ–∂–¥—É –∫—Ä—ä–≥–ª–∏, –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏ –∏ –∫—ä–¥—Ä–∞–≤–∏ —Å–∫–æ–±–∏</li>
</ul>
</div><div class="slide subslide">
<h1 id="add">add!</h1>
<p>–û–±—â–∞—Ç–∞ —Å—Ö–µ–º–∞</p>
<ul>
<li><code>macro_rules!</code> –≤—Å—ä—â–Ω–æ—Å—Ç –Ω–µ –µ –º–∞–∫—Ä–æ, –∞ –µ "syntax extension", –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ –Ω–∞ –Ω–∏–≤–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä</li>
<li>–ò–º–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞ —Å–ª–µ–¥–≤–∞–Ω–æ –æ—Ç —á–∏—Ñ—Ç —Å–∫–æ–±–∏ –∑–∞ —Ç—è–ª–æ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞: <code>macro_rules! add { ... }</code></li>
<li>–ê—Ä–≥—É–º–µ–Ω—Ç–∏ –≤ —Å–∫–æ–±–∏, –ø–æ—Å–ª–µ–¥–≤–∞–Ω–∏ –æ—Ç —Å—Ç—Ä–µ–ª–∫–∏—á–∫–∞ –∏ –æ—â–µ –µ–¥–∏–Ω —á–∏—Ñ—Ç —Å–∫–æ–±–∏: <code>(...) =&gt; { ... }</code></li>
<li>–í—Å–∏—á–∫–∏ —Ç–µ–∑–∏ —Å–∫–æ–±–∏ —Å–∞ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º–∏ –∏–∑–º–µ–∂–¥—É –∫—Ä—ä–≥–ª–∏, –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏ –∏ –∫—ä–¥—Ä–∞–≤–∏ —Å–∫–æ–±–∏</li>
<li>"–ü—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ" <code>$var1</code>, <code>$var2</code> —Å–µ –Ω–∞—Ä–∏—á–∞—Ç –º–µ—Ç–∞–ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –∏ –≤ —Å–ª—É—á–∞—è —Å–∞ –æ—Ç "—Ç–∏–ø" expression - —Ü—è–ª–æ—Å—Ç–µ–Ω –∏–∑—Ä–∞–∑</li>
</ul>
</div><div class="slide">
<h1 id="add">add!</h1>
<p>–ó–∞—â–æ –Ω–µ "–ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏"? –ó–∞—â–æ—Ç–æ –≤ –∫—Ä—ä–≥–ª–∏—Ç–µ —Å–∫–æ–±–∏ —Å–µ –ø—Ä–∞–≤–∏ pattern-matching –Ω–∞ –Ω–∏–≤–æ token-–∏:</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="f57be85444c112b49502f6b6f21f168461e01b3b">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> add {
    <span class="tshl-punctuation_bracket">(</span>–ß—à, —è —Å—ä–±–µ—Ä–∏ <span class="tshl-punctuation_bracket">(</span>$var1:expr<span class="tshl-punctuation_bracket">)</span> –∏ <span class="tshl-punctuation_bracket">(</span>$var2:expr<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> =&gt; {
        $var1 + $var2;
    }
}

<span class="tshl-keyword">fn</span> <span class="tshl-function">main</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> {
    <span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, add!<span class="tshl-punctuation_bracket">(</span>–ß—à, —è —Å—ä–±–µ—Ä–∏ <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">1</span><span class="tshl-punctuation_bracket">)</span> –∏ <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">1</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, add!<span class="tshl-punctuation_bracket">(</span>–ß—à, —è —Å—ä–±–µ—Ä–∏ <span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;foo&quot;</span>.to_string<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> –∏ <span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;bar&quot;</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(187,187,85)">warning</span><span style="font-weight:bold">: trailing semicolon in macro used in expression position</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_f57be85444c112b49502f6b6f21f168461e01b3b.rs:3:22
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">3</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>        $var1 + $var2;
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                     <span style="font-weight:bold;color:rgb(187,187,85)">^</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">8</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    println!("{}", add!(–ß—à, —è —Å—ä–±–µ—Ä–∏ (1) –∏ (1)));
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                   <span style="font-weight:bold;color:rgb(85,85,255)">----------------------------</span> <span style="font-weight:bold;color:rgb(85,85,255)">in this macro invocation</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: `#[warn(semicolon_in_expressions_from_macros)]` on by default
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">warning</span>: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: for more information, see issue #79813 &lt;https://github.com/rust-lang/rust/issues/79813&gt;
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: this warning originates in the macro `add` (in Nightly builds, run with -Z macro-backtrace for more info)

<span style="font-weight:bold;color:rgb(187,187,85)">warning</span><span style="font-weight:bold">: trailing semicolon in macro used in expression position</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_f57be85444c112b49502f6b6f21f168461e01b3b.rs:3:22
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">3</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>        $var1 + $var2;
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                     <span style="font-weight:bold;color:rgb(187,187,85)">^</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">9</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    println!("{}", add!(–ß—à, —è —Å—ä–±–µ—Ä–∏ ("foo".to_string()) –∏ ("bar")));
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                   <span style="font-weight:bold;color:rgb(85,85,255)">------------------------------------------------</span> <span style="font-weight:bold;color:rgb(85,85,255)">in this macro invocation</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">warning</span>: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: for more information, see issue #79813 &lt;https://github.com/rust-lang/rust/issues/79813&gt;
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: this warning originates in the macro `add` (in Nightly builds, run with -Z macro-backtrace for more info)</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="f57be85444c112b49502f6b6f21f168461e01b3b">macro_rules! add {
    (–ß—à, —è —Å—ä–±–µ—Ä–∏ ($var1:expr) –∏ ($var2:expr)) => {
        $var1 + $var2;
    }
}

fn main() {
    println!("{}", add!(–ß—à, —è —Å—ä–±–µ—Ä–∏ (1) –∏ (1)));
    println!("{}", add!(–ß—à, —è —Å—ä–±–µ—Ä–∏ ("foo".to_string()) –∏ ("bar")));
}</pre>
</div><div class="slide">
<h1 id="add">add!</h1>
<p>–ó–∞—â–æ –∏–º–∞ —Å–∫–æ–±–∏? –ó–∞ –¥–∞ —Å–µ –∑–Ω–∞–µ –∫—ä–¥–µ —Å–≤—ä—Ä—à–≤–∞ expression/–∏–∑—Ä–∞–∑.</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="be9c85d3e58c64ae0ab6a9978ece02a78cdf0563">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> add {
    <span class="tshl-punctuation_bracket">(</span>–ß—à, —è —Å—ä–±–µ—Ä–∏ $var1:expr –∏ $var2:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {
        $var1 + $var2;
    }
}</code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">: `$var1:expr` is followed by `–∏`, which is not allowed for `expr` fragments</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_be9c85d3e58c64ae0ab6a9978ece02a78cdf0563.rs:5:30
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">5</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    (–ß—à, —è —Å—ä–±–µ—Ä–∏ $var1:expr –∏ $var2:expr) =&gt; {
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                             <span style="font-weight:bold;color:rgb(255,85,85)">^</span> <span style="font-weight:bold;color:rgb(255,85,85)">not allowed after `expr` fragments</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: allowed there are: `=&gt;`, `,` or `;`

<span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">:</span> could not compile `rust` due to previous error</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="be9c85d3e58c64ae0ab6a9978ece02a78cdf0563">#![allow(unused_macros)]
fn main () {}
macro_rules! add {
    (–ß—à, —è —Å—ä–±–µ—Ä–∏ $var1:expr –∏ $var2:expr) => {
        $var1 + $var2;
    }
}</pre>
</div><div class="slide">
<h1 id="add">add!</h1>
<p>–ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–æ —Å–ª–µ–¥ expr —Å–∞ –ø–æ–∑–≤–æ–ª–µ–Ω–∏ —Å–∞–º–æ (<code>=&gt;</code>), (<code>,</code>) –∏  (<code>;</code>), –∞–∫–æ expr –Ω–µ –µ –≤ —Å–∫–æ–±–∏</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="5d8abaa0152280df2b24f0f3bd1c67815970799e">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> add {
    <span class="tshl-punctuation_bracket">(</span>–ß—à, —è —Å—ä–±–µ—Ä–∏ $var1:expr, $var2:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {
        $var1 + $var2;
    }
}

<span class="tshl-keyword">fn</span> <span class="tshl-function">main</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> {
    <span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, add!<span class="tshl-punctuation_bracket">(</span>–ß—à, —è —Å—ä–±–µ—Ä–∏ <span class="tshl-constant_builtin">1</span>, <span class="tshl-constant_builtin">1</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, add!<span class="tshl-punctuation_bracket">(</span>–ß—à, —è —Å—ä–±–µ—Ä–∏ <span class="tshl-string">&quot;foo&quot;</span>.to_string<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span>, <span class="tshl-string">&quot;bar&quot;</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(187,187,85)">warning</span><span style="font-weight:bold">: trailing semicolon in macro used in expression position</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_5d8abaa0152280df2b24f0f3bd1c67815970799e.rs:3:22
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">3</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>        $var1 + $var2;
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                     <span style="font-weight:bold;color:rgb(187,187,85)">^</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">8</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    println!("{}", add!(–ß—à, —è —Å—ä–±–µ—Ä–∏ 1, 1));
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                   <span style="font-weight:bold;color:rgb(85,85,255)">-----------------------</span> <span style="font-weight:bold;color:rgb(85,85,255)">in this macro invocation</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: `#[warn(semicolon_in_expressions_from_macros)]` on by default
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">warning</span>: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: for more information, see issue #79813 &lt;https://github.com/rust-lang/rust/issues/79813&gt;
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: this warning originates in the macro `add` (in Nightly builds, run with -Z macro-backtrace for more info)

<span style="font-weight:bold;color:rgb(187,187,85)">warning</span><span style="font-weight:bold">: trailing semicolon in macro used in expression position</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_5d8abaa0152280df2b24f0f3bd1c67815970799e.rs:3:22
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">3</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>        $var1 + $var2;
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                     <span style="font-weight:bold;color:rgb(187,187,85)">^</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">9</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    println!("{}", add!(–ß—à, —è —Å—ä–±–µ—Ä–∏ "foo".to_string(), "bar"));
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                   <span style="font-weight:bold;color:rgb(85,85,255)">-------------------------------------------</span> <span style="font-weight:bold;color:rgb(85,85,255)">in this macro invocation</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">warning</span>: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: for more information, see issue #79813 &lt;https://github.com/rust-lang/rust/issues/79813&gt;
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: this warning originates in the macro `add` (in Nightly builds, run with -Z macro-backtrace for more info)</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="5d8abaa0152280df2b24f0f3bd1c67815970799e">macro_rules! add {
    (–ß—à, —è —Å—ä–±–µ—Ä–∏ $var1:expr, $var2:expr) => {
        $var1 + $var2;
    }
}

fn main() {
    println!("{}", add!(–ß—à, —è —Å—ä–±–µ—Ä–∏ 1, 1));
    println!("{}", add!(–ß—à, —è —Å—ä–±–µ—Ä–∏ "foo".to_string(), "bar"));
}</pre>
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ù–µ—â–æ –º–∞–ª–∫–æ –ø–æ-–ø—Ä–∞–∫—Ç–∏—á–Ω–æ</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    {
        $<span class="tshl-punctuation_bracket">(</span> $key: expr : $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span>
    } =&gt; {
        <span class="tshl-comment">// –ó–∞–±–µ–ª–µ–∂–µ—Ç–µ –±–ª–æ–∫–∞</span>
        {
            <span class="tshl-keyword">let</span> <span class="tshl-keyword">mut</span> map = ::std::collections::<span class="tshl-constructor">HashMap</span>::new<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span>;
            $<span class="tshl-punctuation_bracket">(</span> map.insert<span class="tshl-punctuation_bracket">(</span>$key, $value<span class="tshl-punctuation_bracket">)</span>; <span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span>
            map
        }
    }
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ <code>$( ... ),*</code> ?</p>
</div><div class="slide subslide">
<h1 id="map">map!</h1>
<p>–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ <code>$( ... ),*</code> ?</p>
<ul>
<li>–¢–æ–≤–∞ –µ repetition operator</li>
</ul>
</div><div class="slide subslide">
<h1 id="map">map!</h1>
<p>–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ <code>$( ... ),*</code> ?</p>
<ul>
<li>–¢–æ–≤–∞ –µ repetition operator</li>
<li>–í–∏–Ω–∞–≥–∏ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç <code>$( ... )</code> –∏ –µ–¥–Ω–æ –æ—Ç —Ç—Ä–∏—Ç–µ:</li>
</ul>
</div><div class="slide subslide">
<h1 id="map">map!</h1>
<p>–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ <code>$( ... ),*</code> ?</p>
<ul>
<li>–¢–æ–≤–∞ –µ repetition operator</li>
<li>–í–∏–Ω–∞–≥–∏ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç <code>$( ... )</code> –∏ –µ–¥–Ω–æ –æ—Ç —Ç—Ä–∏—Ç–µ:</li>
<li><code>*</code> - 0 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
</ul>
</div><div class="slide subslide">
<h1 id="map">map!</h1>
<p>–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ <code>$( ... ),*</code> ?</p>
<ul>
<li>–¢–æ–≤–∞ –µ repetition operator</li>
<li>–í–∏–Ω–∞–≥–∏ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç <code>$( ... )</code> –∏ –µ–¥–Ω–æ –æ—Ç —Ç—Ä–∏—Ç–µ:</li>
<li><code>*</code> - 0 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li><code>+</code> - 1 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
</ul>
</div><div class="slide subslide">
<h1 id="map">map!</h1>
<p>–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ <code>$( ... ),*</code> ?</p>
<ul>
<li>–¢–æ–≤–∞ –µ repetition operator</li>
<li>–í–∏–Ω–∞–≥–∏ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç <code>$( ... )</code> –∏ –µ–¥–Ω–æ –æ—Ç —Ç—Ä–∏—Ç–µ:</li>
<li><code>*</code> - 0 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li><code>+</code> - 1 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li><code>?</code> - 0 –∏–ª–∏ 1 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
</ul>
</div><div class="slide subslide">
<h1 id="map">map!</h1>
<p>–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ <code>$( ... ),*</code> ?</p>
<ul>
<li>–¢–æ–≤–∞ –µ repetition operator</li>
<li>–í–∏–Ω–∞–≥–∏ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç <code>$( ... )</code> –∏ –µ–¥–Ω–æ –æ—Ç —Ç—Ä–∏—Ç–µ:</li>
<li><code>*</code> - 0 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li><code>+</code> - 1 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li><code>?</code> - 0 –∏–ª–∏ 1 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li>–ú–æ–∂–µ –¥–∞ —Å–ª–æ–∂–∏–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª –≤–µ–¥–Ω–∞–≥–∞ —Å–ª–µ–¥ –∑–∞—Ç–≤–∞—Ä—è—â–∞—Ç–∞ —Å–∫–æ–±–∞ –Ω–∞–ø—Ä–∏–º–µ—Ä <code>,</code></li>
</ul>
</div><div class="slide subslide">
<h1 id="map">map!</h1>
<p>–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ <code>$( ... ),*</code> ?</p>
<ul>
<li>–¢–æ–≤–∞ –µ repetition operator</li>
<li>–í–∏–Ω–∞–≥–∏ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç <code>$( ... )</code> –∏ –µ–¥–Ω–æ –æ—Ç —Ç—Ä–∏—Ç–µ:</li>
<li><code>*</code> - 0 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li><code>+</code> - 1 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li><code>?</code> - 0 –∏–ª–∏ 1 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li>–ú–æ–∂–µ –¥–∞ —Å–ª–æ–∂–∏–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª –≤–µ–¥–Ω–∞–≥–∞ —Å–ª–µ–¥ –∑–∞—Ç–≤–∞—Ä—è—â–∞—Ç–∞ —Å–∫–æ–±–∞ –Ω–∞–ø—Ä–∏–º–µ—Ä <code>,</code></li>
<li><code>$( ... ),*</code> —Ç—ä—Ä—Å–∏ –Ω–µ—â–æ –æ—Ç –≤–∏–¥–∞ <code>... , ... , ...</code></li>
</ul>
</div><div class="slide subslide">
<h1 id="map">map!</h1>
<p>–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ <code>$( ... ),*</code> ?</p>
<ul>
<li>–¢–æ–≤–∞ –µ repetition operator</li>
<li>–í–∏–Ω–∞–≥–∏ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç <code>$( ... )</code> –∏ –µ–¥–Ω–æ –æ—Ç —Ç—Ä–∏—Ç–µ:</li>
<li><code>*</code> - 0 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li><code>+</code> - 1 –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li><code>?</code> - 0 –∏–ª–∏ 1 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</li>
<li>–ú–æ–∂–µ –¥–∞ —Å–ª–æ–∂–∏–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª –≤–µ–¥–Ω–∞–≥–∞ —Å–ª–µ–¥ –∑–∞—Ç–≤–∞—Ä—è—â–∞—Ç–∞ —Å–∫–æ–±–∞ –Ω–∞–ø—Ä–∏–º–µ—Ä <code>,</code></li>
<li><code>$( ... ),*</code> —Ç—ä—Ä—Å–∏ –Ω–µ—â–æ –æ—Ç –≤–∏–¥–∞ <code>... , ... , ...</code></li>
<li>–û–ø–µ—Ä–∞—Ç–æ—Ä—ä—Ç –Ω–µ –ø–æ–¥–¥—ä—Ä–∂–∞ optional trailing —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª</li>
</ul>
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–û–∫, –Ω–µ–∫–∞ –¥–∞ –∫–æ–º–ø–∏–ª–∏—Ä–∞–º–µ</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    {
        $<span class="tshl-punctuation_bracket">(</span> $key: expr : $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span>
    } =&gt; {
        {
            <span class="tshl-keyword">let</span> <span class="tshl-keyword">mut</span> map = ::std::collections::<span class="tshl-constructor">HashMap</span>::new<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span>;
            $<span class="tshl-punctuation_bracket">(</span> map.insert<span class="tshl-punctuation_bracket">(</span>$key, $value<span class="tshl-punctuation_bracket">)</span>; <span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span>
            map
        }
    }
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–û–∫, –Ω–µ–∫–∞ –¥–∞ –∫–æ–º–ø–∏–ª–∏—Ä–∞–º–µ</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="48aecfc760527ed5f683faae57a6895a4507076a">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    {
        $<span class="tshl-punctuation_bracket">(</span> $key: expr : $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span>
    } =&gt; {
        {
            <span class="tshl-keyword">let</span> <span class="tshl-keyword">mut</span> map = ::std::collections::<span class="tshl-constructor">HashMap</span>::new<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span>;
            $<span class="tshl-punctuation_bracket">(</span> map.insert<span class="tshl-punctuation_bracket">(</span>$key, $value<span class="tshl-punctuation_bracket">)</span>; <span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span>
            map
        }
    }
}</code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">: `$key:expr` is followed by `:`, which is not allowed for `expr` fragments</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_48aecfc760527ed5f683faae57a6895a4507076a.rs:6:23
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">6</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>        $( $key: expr : $value: expr ),*
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                      <span style="font-weight:bold;color:rgb(255,85,85)">^</span> <span style="font-weight:bold;color:rgb(255,85,85)">not allowed after `expr` fragments</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: allowed there are: `=&gt;`, `,` or `;`

<span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">:</span> could not compile `rust` due to previous error</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="48aecfc760527ed5f683faae57a6895a4507076a">#![allow(unused_macros)]
fn main() {}
macro_rules! map {
    {
        $( $key: expr : $value: expr ),*
    } => {
        {
            let mut map = ::std::collections::HashMap::new();
            $( map.insert($key, $value); )*
            map
        }
    }
}</pre>
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ü—Ä–∞–≤–∏–ª–∞—Ç–∞ —Å–∞ —Å–∏ –ø—Ä–∞–≤–∏–ª–∞‚Ä¶ –©–µ –≥–∏ —Ä–∞–∑–≥–ª–µ–¥–∞–º–µ –ø–æ–¥—Ä–æ–±–Ω–æ –ø–æ-–∫—ä—Å–Ω–æ</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="c4a192896038103aae985c4a228d8b522b327348">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    {
        $<span class="tshl-punctuation_bracket">(</span> $key: expr =&gt; $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span>
    } =&gt; {
        {
            <span class="tshl-keyword">let</span> <span class="tshl-keyword">mut</span> map = ::std::collections::<span class="tshl-constructor">HashMap</span>::new<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span>;
            $<span class="tshl-punctuation_bracket">(</span> map.insert<span class="tshl-punctuation_bracket">(</span>$key, $value<span class="tshl-punctuation_bracket">)</span>; <span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span>
            map
        }
    }
}</code></pre>
                    </div>
                    
                </div>
                
<pre class="rustc-source" data-sha="c4a192896038103aae985c4a228d8b522b327348">#![allow(unused_macros)]
fn main() {}
macro_rules! map {
    {
        $( $key: expr => $value: expr ),*
    } => {
        {
            let mut map = ::std::collections::HashMap::new();
            $( map.insert($key, $value); )*
            map
        }
    }
}</pre>
</div><div class="slide">
<h1 id="map">map!</h1>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="0969270fabf1d03e5ba39c5d205a9402873e7782">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">let</span> m = <span class="tshl-function_macro">map</span><span class="tshl-function_macro">!</span> {
    <span class="tshl-string">&quot;a&quot;</span> =&gt; <span class="tshl-constant_builtin">1</span>,
    <span class="tshl-string">&quot;b&quot;</span> =&gt; <span class="tshl-constant_builtin">2</span>
}<span class="tshl-punctuation_delimiter">;</span>

<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{:?}&quot;</span>, m<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs">{"a": 1, "b": 2}</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="0969270fabf1d03e5ba39c5d205a9402873e7782">macro_rules! map {
{
$( $key: expr => $value: expr ),*
} => {
{
let mut map = ::std::collections::HashMap::new();
$( map.insert($key, $value); )*
map
}
}
}
fn main() {
let m = map! {
    "a" => 1,
    "b" => 2
};

println!("{:?}", m);
}</pre>
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ê –∫–∞–∫–≤–æ —Å—Ç–∞–≤–∞, –∞–∫–æ –∏—Å–∫–∞–º–µ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–º–µ trailing comma ü§î</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">let</span> m = <span class="tshl-function_macro">map</span><span class="tshl-function_macro">!</span> {
    <span class="tshl-string">&quot;a&quot;</span> =&gt; <span class="tshl-constant_builtin">1</span>,
    <span class="tshl-string">&quot;b&quot;</span> =&gt; <span class="tshl-constant_builtin">2</span>,
}<span class="tshl-punctuation_delimiter">;</span>

<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{:?}&quot;</span>, m<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ê –∫–∞–∫–≤–æ —Å—Ç–∞–≤–∞, –∞–∫–æ –∏—Å–∫–∞–º–µ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–º–µ trailing comma ü§î</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="5c32cc6affa79f7fd4a16843f01c100a2bb3f65e">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">let</span> m = <span class="tshl-function_macro">map</span><span class="tshl-function_macro">!</span> {
    <span class="tshl-string">&quot;a&quot;</span> =&gt; <span class="tshl-constant_builtin">1</span>,
    <span class="tshl-string">&quot;b&quot;</span> =&gt; <span class="tshl-constant_builtin">2</span>,
}<span class="tshl-punctuation_delimiter">;</span>

<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{:?}&quot;</span>, m<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">: unexpected end of macro invocation</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_5c32cc6affa79f7fd4a16843f01c100a2bb3f65e.rs:15:14
   <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">1</span>  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>macro_rules! map {
   <span style="font-weight:bold;color:rgb(85,85,255)">| </span><span style="font-weight:bold;color:rgb(85,85,255)">----------------</span> <span style="font-weight:bold;color:rgb(85,85,255)">when calling this macro</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">15</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    "b" =&gt; 2,
   <span style="font-weight:bold;color:rgb(85,85,255)">| </span>             <span style="font-weight:bold;color:rgb(255,85,85)">^</span> <span style="font-weight:bold;color:rgb(255,85,85)">missing tokens in macro arguments</span>

<span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">:</span> could not compile `rust` due to previous error</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="5c32cc6affa79f7fd4a16843f01c100a2bb3f65e">macro_rules! map {
{
$( $key: expr => $value: expr ),*
} => {
{
let mut map = ::std::collections::HashMap::new();
$( map.insert($key, $value); )*
map
}
}
}
fn main() {
let m = map! {
    "a" => 1,
    "b" => 2,
};

println!("{:?}", m);
}</pre>
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ù–µ —Ç–æ—á–Ω–æ –∫–∞–∫–≤–æ—Ç–æ –æ—á–∞–∫–≤–∞—Ö–º–µ..</p>
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ú–æ–∂–µ –±–∏ —Ç–∞–∫–∞?</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    {
        $<span class="tshl-punctuation_bracket">(</span> $key: expr =&gt; $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span>,
    } =&gt; {
        <span class="tshl-comment">/* ... */</span>
    }
}

<span class="tshl-keyword">let</span> m = <span class="tshl-function_macro">map</span><span class="tshl-function_macro">!</span> {
    <span class="tshl-string">&quot;a&quot;</span> =&gt; <span class="tshl-constant_builtin">1</span>,
    <span class="tshl-string">&quot;b&quot;</span> =&gt; <span class="tshl-constant_builtin">2</span>
}<span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ú–æ–∂–µ –±–∏ —Ç–∞–∫–∞?</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="069557a786e297d4c06486f2019e02e452864ede">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    {
        $<span class="tshl-punctuation_bracket">(</span> $key: expr =&gt; $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span>,
    } =&gt; {
        <span class="tshl-comment">/* ... */</span>
    }
}

<span class="tshl-keyword">let</span> m = <span class="tshl-function_macro">map</span><span class="tshl-function_macro">!</span> {
    <span class="tshl-string">&quot;a&quot;</span> =&gt; <span class="tshl-constant_builtin">1</span>,
    <span class="tshl-string">&quot;b&quot;</span> =&gt; <span class="tshl-constant_builtin">2</span>
}<span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">: unexpected end of macro invocation</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_069557a786e297d4c06486f2019e02e452864ede.rs:17:13
   <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">1</span>  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>macro_rules! map {
   <span style="font-weight:bold;color:rgb(85,85,255)">| </span><span style="font-weight:bold;color:rgb(85,85,255)">----------------</span> <span style="font-weight:bold;color:rgb(85,85,255)">when calling this macro</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">17</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    "b" =&gt; 2
   <span style="font-weight:bold;color:rgb(85,85,255)">| </span>            <span style="font-weight:bold;color:rgb(255,85,85)">^</span> <span style="font-weight:bold;color:rgb(255,85,85)">missing tokens in macro arguments</span>

<span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">:</span> could not compile `rust` due to previous error</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="069557a786e297d4c06486f2019e02e452864ede">macro_rules! map {
    {
        $( $key: expr => $value: expr ),*,
    } => {
        /* ... */
{
let mut map = ::std::collections::HashMap::new();
$( map.insert($key, $value); )*
map
}
    }
}

fn main() {
let m = map! {
    "a" => 1,
    "b" => 2
};
}</pre>
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ù–µ..</p>
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ù–µ –±–æ–π—Ç–µ —Å–µ, –∏–º–∞ —Å–∏ —Ç—Ä–∏–∫ –∑–∞ —Ç–æ–≤–∞</p>
<p>–ü—Ä–µ–¥–∏ –≤—Ä–µ–º–µ —Å–µ –Ω–∞–ª–∞–≥–∞—à–µ –¥–∞ –ø—Ä–∞–≤–∏–º —Å–ª–µ–¥–Ω–æ—Ç–æ, –º–æ–∂–µ –¥–∞ –≥–æ –≤–∏–¥–∏—Ç–µ –≤ legacy –∫–æ–¥</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    {
        $<span class="tshl-punctuation_bracket">(</span> $key: expr =&gt; $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span> $<span class="tshl-punctuation_bracket">(</span>,<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span>
    } =&gt; {
        <span class="tshl-comment">/* ... */</span>
    }
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ù–µ–¥–æ—Å—Ç–∞—Ç—ä–∫–∞ –µ, —á–µ –º–æ–∂–µ –¥–∞ match-–Ω–µ–º –Ω–µ—â–æ —Ç–∞–∫–æ–≤–∞</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="c0e19b058cf97004932261db877eeb0d1f16dcc5">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">let</span> m = <span class="tshl-function_macro">map</span><span class="tshl-function_macro">!</span> {
    <span class="tshl-string">&quot;a&quot;</span> =&gt; <span class="tshl-constant_builtin">1</span>,
    <span class="tshl-string">&quot;b&quot;</span> =&gt; <span class="tshl-constant_builtin">2</span>,,,,,,,,,,,,
}<span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    
                </div>
                
<pre class="rustc-source" data-sha="c0e19b058cf97004932261db877eeb0d1f16dcc5">macro_rules! map {
{
$( $key: expr => $value: expr ),* $(,)*
} => {
{
let mut map = ::std::collections::HashMap::new();
$( map.insert($key, $value); )*
map
}
}
}
fn main() {
let m = map! {
    "a" => 1,
    "b" => 2,,,,,,,,,,,,
};
}</pre>
</div><div class="slide">
<h1 id="map">map!</h1>
<p>–ù–æ –∫–∞–∫—Ç–æ –∫–∞–∑–∞—Ö–º–µ –∏–º–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>?</code></p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    {
        $<span class="tshl-punctuation_bracket">(</span> $key: expr =&gt; $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span> $<span class="tshl-punctuation_bracket">(</span>,<span class="tshl-punctuation_bracket">)</span>?
    } =&gt; {
        <span class="tshl-comment">/* ... */</span>
    }
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="map">map!</h1>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="8787b3de5743c50c369a6f22529470193c634782">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    {
        $<span class="tshl-punctuation_bracket">(</span> $key: expr =&gt; $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span> $<span class="tshl-punctuation_bracket">(</span>,<span class="tshl-punctuation_bracket">)</span>?
    } =&gt; {
        <span class="tshl-comment">/* ... */</span>
    }
}

<span class="tshl-function_macro">map</span><span class="tshl-function_macro">!</span> {
    <span class="tshl-string">&quot;a&quot;</span> =&gt; <span class="tshl-constant_builtin">1</span>,
    <span class="tshl-string">&quot;b&quot;</span> =&gt; <span class="tshl-constant_builtin">2</span>
}<span class="tshl-punctuation_delimiter">;</span>

<span class="tshl-function_macro">map</span><span class="tshl-function_macro">!</span> {
    <span class="tshl-string">&quot;a&quot;</span> =&gt; <span class="tshl-constant_builtin">1</span>,
    <span class="tshl-string">&quot;b&quot;</span> =&gt; <span class="tshl-constant_builtin">2</span>,
}<span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    
                </div>
                
<pre class="rustc-source" data-sha="8787b3de5743c50c369a6f22529470193c634782">macro_rules! map {
    {
        $( $key: expr => $value: expr ),* $(,)?
    } => {
        /* ... */
{
let mut map = ::std::collections::HashMap::new();
$( map.insert($key, $value); )*
map
}
    }
}

fn main() {
map! {
    "a" => 1,
    "b" => 2
};

map! {
    "a" => 1,
    "b" => 2,
};
}</pre>
</div><div class="slide">
<h1 id="—Ö–∏–≥–∏–µ–Ω–∞">–•–∏–≥–∏–µ–Ω–∞</h1>
<p>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ –≤ Rust —Å–∞ —Ö–∏–≥–∏–µ–Ω–∏—á–Ω–∏</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> five_times {
    <span class="tshl-punctuation_bracket">(</span>$x:expr<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">5</span> * $x<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}

<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, five_times!<span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">2</span> + <span class="tshl-constant_builtin">3</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="—Ö–∏–≥–∏–µ–Ω–∞">–•–∏–≥–∏–µ–Ω–∞</h1>
<p>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ –≤ Rust —Å–∞ —Ö–∏–≥–∏–µ–Ω–∏—á–Ω–∏</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="35ef4e6a1fbf3a620d90ee74b9ef0dfb7b430b01">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> five_times {
    <span class="tshl-punctuation_bracket">(</span>$x:expr<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">5</span> * $x<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}

<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, five_times!<span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">2</span> + <span class="tshl-constant_builtin">3</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs">25</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="35ef4e6a1fbf3a620d90ee74b9ef0dfb7b430b01">macro_rules! five_times {
    ($x:expr) => (5 * $x);
}

fn main() {
println!("{}", five_times!(2 + 3));
}</pre>
</div><div class="slide subslide">
<h1 id="—Ö–∏–≥–∏–µ–Ω–∞">–•–∏–≥–∏–µ–Ω–∞</h1>
<p>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ –≤ Rust —Å–∞ —Ö–∏–≥–∏–µ–Ω–∏—á–Ω–∏</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="35ef4e6a1fbf3a620d90ee74b9ef0dfb7b430b01">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> five_times {
    <span class="tshl-punctuation_bracket">(</span>$x:expr<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">5</span> * $x<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}

<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, five_times!<span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">2</span> + <span class="tshl-constant_builtin">3</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs">25</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="35ef4e6a1fbf3a620d90ee74b9ef0dfb7b430b01">macro_rules! five_times {
    ($x:expr) => (5 * $x);
}

fn main() {
println!("{}", five_times!(2 + 3));
}</pre>
<p>–ù–µ—â–æ –ø–æ–¥–æ–±–Ω–æ –≤ C/C++ –±–∏ –∏–∑—á–∏—Å–ª–∏–ª–æ 13</p>
</div><div class="slide">
<h1 id="—Ö–∏–≥–∏–µ–Ω–∞">–•–∏–≥–∏–µ–Ω–∞</h1>
<p>–í —Ç–æ–∑–∏ –ø—Ä–∏–º–µ—Ä –æ—Ç–Ω–æ–≤–æ –∑–∞—Ä–∞–¥–∏ —Ö–∏–≥–∏–µ–Ω–∞ –¥–≤–∞—Ç–∞ state-–∞ –Ω–µ —Å–µ shadow-–≤–∞—Ç –≤–∑–∞–∏–º–Ω–æ</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="b2183ae77c0f7bcb085c48d41dcfb387547d866b">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> log {
    <span class="tshl-punctuation_bracket">(</span>$msg:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {{
        <span class="tshl-keyword">let</span> state: <span class="tshl-type_builtin">i32</span> = get_log_state<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span>;
        <span class="tshl-keyword">if</span> state &gt; <span class="tshl-constant_builtin">0</span> {
            println!<span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;log({}): {}&quot;</span>, state, $msg<span class="tshl-punctuation_bracket">)</span>;
        }
    }}<span class="tshl-punctuation_delimiter">;</span>
}

<span class="tshl-keyword">let</span> state: <span class="tshl-operator">&amp;</span><span class="tshl-type_builtin">str</span> = <span class="tshl-string">&quot;reticulating splines&quot;</span><span class="tshl-punctuation_delimiter">;</span>
<span class="tshl-function_macro">log</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span>state<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs">log(1): reticulating splines</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="b2183ae77c0f7bcb085c48d41dcfb387547d866b">fn get_log_state() -> i32 { 1 }
macro_rules! log {
    ($msg:expr) => {{
        let state: i32 = get_log_state();
        if state > 0 {
            println!("log({}): {}", state, $msg);
        }
    }};
}

fn main() {
let state: &str = "reticulating splines";
log!(state);
}</pre>
</div><div class="slide">
<h1 id="—Ö–∏–≥–∏–µ–Ω–∞">–•–∏–≥–∏–µ–Ω–∞</h1>
<p>–í—Å—è–∫–æ —Ä–∞–∑–≥—ä–≤–∞–Ω–µ –Ω–∞ –º–∞–∫—Ä–æ—Å —Å–µ —Å–ª—É—á–≤–∞ –≤ —Ä–∞–∑–ª–∏—á–µ–Ω —Å–∏–Ω—Ç–∞–∫—Ç–∏—á–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç.<br />
–í —Ç–æ–∑–∏ —Å–ª—É—á–∞–π –º–æ–∂–µ –¥–∞ –≥–æ –º–∏—Å–ª–∏—Ç–µ –≤—Å–µ –µ–¥–Ω–æ –¥–≤–µ—Ç–µ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –∏–º–∞—Ç —Ä–∞–∑–ª–∏—á–µ–Ω —Ü–≤—è—Ç –∫–æ–π—Ç–æ –≥–∏ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–∞–≤–∞.</p>
</div><div class="slide">
<h1 id="—Ö–∏–≥–∏–µ–Ω–∞">–•–∏–≥–∏–µ–Ω–∞</h1>
<p>–ü–æ —Ç–∞–∑–∏ –ø—Ä–∏—á–∏–Ω–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤—è–º–µ –Ω–æ–≤–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ —á—Ä–µ–∑ –º–∞–∫—Ä–æ—Å –ø–æ —Å–ª–µ–¥–Ω–∏—è –Ω–∞—á–∏–Ω</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="f77bccafcffc077ab7e68cffcdade87e2b6d1674">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> foo {
    <span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span><span class="tshl-keyword">let</span> x = <span class="tshl-constant_builtin">3</span>;<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}

<span class="tshl-function_macro">foo</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, x<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(255,85,85)">error[E0425]</span><span style="font-weight:bold">: cannot find value `x` in this scope</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_f77bccafcffc077ab7e68cffcdade87e2b6d1674.rs:7:16
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">7</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>println!("{}", x);
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>               <span style="font-weight:bold;color:rgb(255,85,85)">^</span> <span style="font-weight:bold;color:rgb(255,85,85)">not found in this scope</span>

<span style="font-weight:bold">For more information about this error, try `rustc --explain E0425`.</span>
<span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">:</span> could not compile `rust` due to previous error</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="f77bccafcffc077ab7e68cffcdade87e2b6d1674">macro_rules! foo {
    () => (let x = 3;);
}

fn main() {
foo!();
println!("{}", x);
}</pre>
</div><div class="slide">
<h1 id="—Ö–∏–≥–∏–µ–Ω–∞">–•–∏–≥–∏–µ–Ω–∞</h1>
<p>–©–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø–æ–¥–∞–¥–µ–º –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞ –∑–∞ –¥–∞ —Å–µ –ø–æ–ª—É—á–∏</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="e8b12bcdcb6d38d43fbf52294b286ac34f8a2057">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> foo {
    <span class="tshl-punctuation_bracket">(</span>$v:ident<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span><span class="tshl-keyword">let</span> $v = <span class="tshl-constant_builtin">3</span>;<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}

<span class="tshl-function_macro">foo</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span>x<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, x<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs">3</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="e8b12bcdcb6d38d43fbf52294b286ac34f8a2057">macro_rules! foo {
    ($v:ident) => (let $v = 3;);
}

fn main() {
foo!(x);
println!("{}", x);
}</pre>
</div><div class="slide">
<h1 id="—Ö–∏–≥–∏–µ–Ω–∞">–•–∏–≥–∏–µ–Ω–∞</h1>
<p>–ü—Ä–∞–≤–∏–ª–æ –≤–∞–∂–∏ –∑–∞ <code>let</code> –∏ —Ü–∏–∫–ª–∏ –∫–∞—Ç–æ <code>loop while for</code>, –Ω–æ –Ω–µ –∏ –∑–∞ <a href="https://doc.rust-lang.org/reference/items.html" target="_blank">item</a>-–∏, –∫–æ–µ—Ç–æ –∑–Ω–∞—á–∏, —á–µ —Å–ª–µ–¥–Ω–æ—Ç–æ —â–µ —Å–µ –∫–æ–º–ø–∏–ª–∏—Ä–∞</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="f149a6b544f4f3d4c792b74158a128f5679e0d3e">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> foo {
    <span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span><span class="tshl-keyword">fn</span> x<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> { println!<span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;macros!&quot;</span><span class="tshl-punctuation_bracket">)</span> }<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}

<span class="tshl-function_macro">foo</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
<span class="tshl-function">x</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs">macros!</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="f149a6b544f4f3d4c792b74158a128f5679e0d3e">macro_rules! foo {
    () => (fn x() { println!("macros!") });
}

fn main() {
foo!();
x();
}</pre>
</div><div class="slide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<h3 id="–∏–∑–≤–∏–∫–≤–∞–Ω–µ-–Ω–∞-–º–∞–∫—Ä–æ—Å–∏">–ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –º–∞–∫—Ä–æ—Å–∏</h3>
<p>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ —Å–ª–µ–¥–≤–∞—Ç —Å—ä—â–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∫–∞–∫—Ç–æ –æ—Å—Ç–∞–Ω–∞–ª–∞—Ç–∞ —á–∞—Å—Ç –æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –Ω–∞ Rust</p>
</div><div class="slide subslide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<h3 id="–∏–∑–≤–∏–∫–≤–∞–Ω–µ-–Ω–∞-–º–∞–∫—Ä–æ—Å–∏">–ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –º–∞–∫—Ä–æ—Å–∏</h3>
<p>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ —Å–ª–µ–¥–≤–∞—Ç —Å—ä—â–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∫–∞–∫—Ç–æ –æ—Å—Ç–∞–Ω–∞–ª–∞—Ç–∞ —á–∞—Å—Ç –æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –Ω–∞ Rust</p>
<ul>
<li><code>foo!( ... );</code></li>
</ul>
</div><div class="slide subslide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<h3 id="–∏–∑–≤–∏–∫–≤–∞–Ω–µ-–Ω–∞-–º–∞–∫—Ä–æ—Å–∏">–ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –º–∞–∫—Ä–æ—Å–∏</h3>
<p>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ —Å–ª–µ–¥–≤–∞—Ç —Å—ä—â–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∫–∞–∫—Ç–æ –æ—Å—Ç–∞–Ω–∞–ª–∞—Ç–∞ —á–∞—Å—Ç –æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –Ω–∞ Rust</p>
<ul>
<li><code>foo!( ... );</code></li>
<li><code>foo![ ... ];</code></li>
</ul>
</div><div class="slide subslide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<h3 id="–∏–∑–≤–∏–∫–≤–∞–Ω–µ-–Ω–∞-–º–∞–∫—Ä–æ—Å–∏">–ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –º–∞–∫—Ä–æ—Å–∏</h3>
<p>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ —Å–ª–µ–¥–≤–∞—Ç —Å—ä—â–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∫–∞–∫—Ç–æ –æ—Å—Ç–∞–Ω–∞–ª–∞—Ç–∞ —á–∞—Å—Ç –æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –Ω–∞ Rust</p>
<ul>
<li><code>foo!( ... );</code></li>
<li><code>foo![ ... ];</code></li>
<li><code>foo! { ... }</code></li>
</ul>
</div><div class="slide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
</div><div class="slide subslide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<ul>
<li>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç —Å–∞–º–æ –≤–∞–ª–∏–¥–Ω–∏ Rust token-–∏</li>
</ul>
</div><div class="slide subslide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<ul>
<li>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç —Å–∞–º–æ –≤–∞–ª–∏–¥–Ω–∏ Rust token-–∏</li>
<li>–°–∫–æ–±–∏—Ç–µ –≤ –º–∞–∫—Ä–æ—Å–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–∏ —Ç.–µ. <code>foo!([)</code> –µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ</li>
</ul>
</div><div class="slide subslide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<ul>
<li>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç —Å–∞–º–æ –≤–∞–ª–∏–¥–Ω–∏ Rust token-–∏</li>
<li>–°–∫–æ–±–∏—Ç–µ –≤ –º–∞–∫—Ä–æ—Å–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–∏ —Ç.–µ. <code>foo!([)</code> –µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ</li>
<li>–ë–µ–∑ —Ç–æ–≤–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, Rust –Ω—è–º–∞ –∫–∞–∫ –¥–∞ –∑–Ω–∞–µ –∫—ä–¥–µ —Å–≤—ä—Ä—à–≤–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞</li>
</ul>
</div><div class="slide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<p>–§–æ—Ä–º–∞–ª–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç –ø–æ—Ä–µ–¥–∏—Ü–∞ –æ—Ç token trees –∫–æ–∏—Ç–æ —Å–∞</p>
</div><div class="slide subslide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<p>–§–æ—Ä–º–∞–ª–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç –ø–æ—Ä–µ–¥–∏—Ü–∞ –æ—Ç token trees –∫–æ–∏—Ç–æ —Å–∞</p>
<ul>
<li>–ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ –ø–æ—Ä–µ–¥–∏—Ü–∞ –æ—Ç token trees –æ–±–≥—Ä–∞–¥–µ–Ω–∞ –æ—Ç <code>()</code>, <code>[]</code> –∏–ª–∏ <code>{}</code></li>
</ul>
</div><div class="slide subslide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<p>–§–æ—Ä–º–∞–ª–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç –ø–æ—Ä–µ–¥–∏—Ü–∞ –æ—Ç token trees –∫–æ–∏—Ç–æ —Å–∞</p>
<ul>
<li>–ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ –ø–æ—Ä–µ–¥–∏—Ü–∞ –æ—Ç token trees –æ–±–≥—Ä–∞–¥–µ–Ω–∞ –æ—Ç <code>()</code>, <code>[]</code> –∏–ª–∏ <code>{}</code></li>
<li>–≤—Å–µ–∫–∏ –¥—Ä—É–≥ –µ–¥–∏–Ω–∏—á–µ–Ω token</li>
</ul>
</div><div class="slide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<p>–ó–∞—Ç–æ–≤–∞ Rust –º–∞–∫—Ä–æ—Å–∏—Ç–µ –≤–∏–Ω–∞–≥–∏ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–∞—Ç –∑–∞—Ç–≤–∞—Ä—è–Ω–µ—Ç–æ –Ω–∞ —Å–∫–æ–±–∏—Ç–µ –ø—Ä–µ–¥ match-–≤–∞–Ω–µ—Ç–æ, –∫–æ–µ—Ç–æ –µ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –Ω—è–∫–æ–∏ –ø–æ–¥—Ö–æ–¥–∏ –∑–∞ match-–≤–∞–Ω–µ</p>
</div><div class="slide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<h3 id="metavariables--fragment-specifiers">Metavariables &amp; Fragment specifiers</h3>
<p>T–∏–ø–æ–≤–µ—Ç–µ –Ω–∞ –º–µ—Ç–∞–ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ —Å–∞:</p>
<ul>
<li><code>ident</code>: an identifier. <code>x</code>; <code>foo</code></li>
<li><code>path</code>: a qualified name. <code>T::SpecialA</code></li>
<li><code>expr</code>: an expression. <code>2 + 2</code>; <code>if true { 1 } else { 2 }</code>; <code>f(42)</code></li>
<li><code>ty</code>: a type. <code>i32</code>; <code>Vec&lt;(char, String)&gt;</code>; <code>&amp;T</code></li>
<li><code>pat</code>: a pattern. <code>Some(t)</code>; <code>(17, 'a')</code>; <code>_</code></li>
<li><code>pat_param</code>: a pattern (edition 2021). Supports nested <code>|</code>.</li>
<li><code>stmt</code>: a single statement. <code>let x = 3</code></li>
<li><code>block</code>: a brace-delimited sequence of statements and optionally an expression. <code>{ log(error, "hi"); return 12; }</code></li>
<li><code>item</code>: an item. <code>fn foo() { }</code>; <code>struct Bar;</code></li>
<li><code>meta</code>: a "meta item", as found in attributes. <code>cfg(target_os = "windows")</code></li>
<li><code>tt</code>: a single token tree.</li>
<li><code>lifetime</code>: a lifetime <code>'a</code>.</li>
<li><code>vis</code>: a possibly empty Visibility qualifier.</li>
<li><code>literal</code>: literal expression.</li>
</ul>
</div><div class="slide">
<h1 id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–°–∏–Ω—Ç–∞–∫—Å–∏—Å</h1>
<h3 id="metavariables--fragment-specifiers">Metavariables &amp; Fragment specifiers</h3>
<p>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ç–∞ –∑–∞ —Ç–∏–ø–æ–≤–µ—Ç–µ —Å–∞:</p>
<ul>
<li><code>expr</code> and <code>stmt</code> may only be followed by one of: <code>=&gt;</code>, <code>,</code>, or <code>;</code>.</li>
<li><code>pat</code> and <code>pat_param</code> may only be followed by one of: <code>=&gt;</code>, <code>,</code>, <code>=</code>, <code>|</code>, <code>if</code>, or <code>in</code>.</li>
<li><code>path</code> and <code>ty</code> may only be followed by one of: <code>=&gt;</code>, <code>,</code>, <code>=</code>, <code>|</code>, <code>;</code>, <code>:</code>, <code>&gt;</code>, <code>&gt;&gt;</code>, <code>[</code>, <code>{</code>, <code>as</code>, <code>where</code>, or a macro variable of <code>block</code> fragment specifier.</li>
<li><code>vis</code> may only be followed by one of: <code>,</code>, an identifier other than a non-raw priv, any token that can begin a type, or a metavariable with a <code>ident</code>, <code>ty</code>, or <code>path</code> fragment specifier.</li>
<li>All other fragment specifiers have no restrictions.</li>
</ul>
</div><div class="slide">
<h1 id="—Ä—ä–∫–∞–≤–∏">–†—ä–∫–∞–≤–∏</h1>
<p>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ –º–æ–≥–∞—Ç –¥–∞ –∏–º–∞—Ç –ø–æ–≤–µ—á–µ –æ—Ç –µ–¥–∏–Ω —Ä—ä–∫–∞–≤ –∑–∞ matching —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å ;</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> my_macro {
    <span class="tshl-punctuation_bracket">(</span>$e: expr<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>...<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>$i: ident<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>...<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span><span class="tshl-keyword">for</span> $i: ident in $e: expr<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>...<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="—Ä—ä–∫–∞–≤–∏">–†—ä–∫–∞–≤–∏</h1>
<p>–ò–º–∞ –∏ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è –∑–∞ private —Ä—ä–∫–∞–≤–∏ <code>@text</code>, –∫–æ–∏—Ç–æ –¥–∞ —Å–µ –≤–∏–∫–∞—Ç —á—Ä–µ–∑ —Ä–µ–∫—É—Ä—Å–∏—è<br />
–¢–æ–≤–∞ –Ω–µ –µ –æ—Ñ–∏—Ü–∏–∞–ª–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∞ –ø–æ-—Å–∫–æ—Ä–æ –Ω–µ—â–æ –∫–æ–µ—Ç–æ –æ–±—â–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ Rust –µ –ø—Ä–∏–µ–ª–∞ –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> my_macro {
    <span class="tshl-punctuation_bracket">(</span><span class="tshl-keyword">for</span> $i: ident in $e: expr<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>...<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@private1 $e: expr<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>...<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@private2 $i: ident<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>...<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="—Ä–µ–∫—É—Ä—Å–∏—è">–†–µ–∫—É—Ä—Å–∏—è</h1>
<p>–ú–∞–∫—Ä–æ—Å–∏—Ç–µ –º–æ–≥–∞—Ç –¥–∞ –∏–∑–≤–∏–∫–≤–∞—Ç –¥—Ä—É–≥–∏ –º–∞–∫—Ä–æ—Å–∏ –∏ –¥–æ—Ä–∏ —Å–µ–±–µ —Å–∏ –∫–∞–∫—Ç–æ —Ç–æ–∑–∏ –ø—Ä–æ—Å—Ç HTML shorthand</p>
<p>–î—ä–Ω–æ—Ç–æ –Ω–∞ —Ä–µ–∫—É—Ä—Å–∏—è—Ç–∞ –µ –Ω–∞–π-–æ—Ç–≥–æ—Ä–µ, –∑–∞—â–æ—Ç–æ –æ–ø–∏—Ç–∏—Ç–µ –∑–∞ match-–≤–∞–Ω–µ –∑–∞–ø–æ—á–≤–∞—Ç –æ—Ç –ø—ä—Ä–≤–∏—è –∫—ä–º –ø–æ—Å–ª–µ–¥–Ω–∏—è —Ä—ä–∫–∞–≤</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="69ea2a52d4b965dca79eab57350839ede7b71b8f">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> write_html {
    <span class="tshl-punctuation_bracket">(</span>$w: expr, <span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>

    <span class="tshl-punctuation_bracket">(</span>$w: expr, $e: tt<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>write!<span class="tshl-punctuation_bracket">(</span>$w, <span class="tshl-string">&quot;{}&quot;</span>, $e<span class="tshl-punctuation_bracket">)</span>?<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>

    <span class="tshl-punctuation_bracket">(</span>$w: expr, $tag: ident <span class="tshl-punctuation_bracket">[</span> $<span class="tshl-punctuation_bracket">(</span> $inner: tt <span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span> <span class="tshl-punctuation_bracket">]</span> $<span class="tshl-punctuation_bracket">(</span> $rest: tt <span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span> =&gt; {{
        write!<span class="tshl-punctuation_bracket">(</span>$w, <span class="tshl-string">&quot;&lt;{}&gt;&quot;</span>, stringify!<span class="tshl-punctuation_bracket">(</span>$tag<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>?;
        write_html!<span class="tshl-punctuation_bracket">(</span>$w, $<span class="tshl-punctuation_bracket">(</span>$inner<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span>;
        write!<span class="tshl-punctuation_bracket">(</span>$w, <span class="tshl-string">&quot;&lt;/{}&gt;&quot;</span>, stringify!<span class="tshl-punctuation_bracket">(</span>$tag<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>?;
        write_html!<span class="tshl-punctuation_bracket">(</span>$w, $<span class="tshl-punctuation_bracket">(</span>$rest<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span>;
    }}<span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    
                </div>
                
<pre class="rustc-source" data-sha="69ea2a52d4b965dca79eab57350839ede7b71b8f">#![allow(unused_macros)]
fn main() {}
macro_rules! write_html {
    ($w: expr, ) => (());

    ($w: expr, $e: tt) => (write!($w, "{}", $e)?);

    ($w: expr, $tag: ident [ $( $inner: tt )* ] $( $rest: tt )*) => {{
        write!($w, "<{}>", stringify!($tag))?;
        write_html!($w, $($inner)*);
        write!($w, "</{}>", stringify!($tag))?;
        write_html!($w, $($rest)*);
    }};
}</pre>
</div><div class="slide">
<h1 id="—Ä–µ–∫—É—Ä—Å–∏—è">–†–µ–∫—É—Ä—Å–∏—è</h1>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="23ae63e9624bb71ddf5a55bfe7688a279c300ee7">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">use</span> std<span class="tshl-punctuation_delimiter">::</span>fmt<span class="tshl-punctuation_delimiter">::</span><span class="tshl-constructor">Write</span><span class="tshl-punctuation_delimiter">;</span>

<span class="tshl-keyword">let</span> <span class="tshl-keyword">mut</span> out = <span class="tshl-type">String</span><span class="tshl-punctuation_delimiter">::</span><span class="tshl-function">new</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>

<span class="tshl-function_macro">write_html</span><span class="tshl-function_macro">!</span> {
    &amp;<span class="tshl-keyword">mut</span> out,
    html<span class="tshl-punctuation_bracket">[</span>
        head<span class="tshl-punctuation_bracket">[</span>title<span class="tshl-punctuation_bracket">[</span><span class="tshl-string">&quot;Macros guide&quot;</span><span class="tshl-punctuation_bracket">]</span><span class="tshl-punctuation_bracket">]</span>
        body<span class="tshl-punctuation_bracket">[</span>h1<span class="tshl-punctuation_bracket">[</span><span class="tshl-string">&quot;Macros are the best!&quot;</span><span class="tshl-punctuation_bracket">]</span><span class="tshl-punctuation_bracket">]</span>
    <span class="tshl-punctuation_bracket">]</span>
}

<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{}&quot;</span>, out<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs">&lt;html&gt;&lt;head&gt;&lt;title&gt;Macros guide&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Macros are the best!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="23ae63e9624bb71ddf5a55bfe7688a279c300ee7">macro_rules! write_html {
($w: expr, ) => (());

($w: expr, $e: tt) => (write!($w, "{}", $e)?);

($w: expr, $tag: ident [ $( $inner: tt )* ] $( $rest: tt )*) => {{
write!($w, "<{}>", stringify!($tag))?;
write_html!($w, $($inner)*);
write!($w, "</{}>", stringify!($tag))?;
write_html!($w, $($rest)*);
}};
}
fn main() -> Result<(), ::std::fmt::Error> {
use std::fmt::Write;

let mut out = String::new();

write_html! {
    &mut out,
    html[
        head[title["Macros guide"]]
        body[h1["Macros are the best!"]]
    ]
}

println!("{}", out);
Ok(())
}</pre>
</div><div class="slide">
<h1 id="—Ä–µ–∫—É—Ä—Å–∏—è">–†–µ–∫—É—Ä—Å–∏—è</h1>
<p>–ú–æ–∂–µ –¥–∞ —Å—Ä–µ—â–Ω–µ—Ç–µ legacy –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –Ω–∞ <code>?</code>, —á—Ä–µ–∑ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ä—ä–∫–∞–≤–∏</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="b02f50674fb278ca581c3169c2446548e897b805">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> map {
    { $<span class="tshl-punctuation_bracket">(</span> $key: expr =&gt; $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span>, } =&gt; {
        map!<span class="tshl-punctuation_bracket">(</span> $<span class="tshl-punctuation_bracket">(</span> $key =&gt; $value <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span> <span class="tshl-punctuation_bracket">)</span>;
    }<span class="tshl-punctuation_delimiter">;</span>

    { $<span class="tshl-punctuation_bracket">(</span> $key: expr =&gt; $value: expr <span class="tshl-punctuation_bracket">)</span>,<span class="tshl-operator">*</span> } =&gt; {
        {
            <span class="tshl-keyword">let</span> <span class="tshl-keyword">mut</span> map = ::std::collections::<span class="tshl-constructor">HashMap</span>::new<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span>;
            $<span class="tshl-punctuation_bracket">(</span> map.insert<span class="tshl-punctuation_bracket">(</span>$key, $value<span class="tshl-punctuation_bracket">)</span>; <span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span>
            map
        }
    }<span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    
                </div>
                
<pre class="rustc-source" data-sha="b02f50674fb278ca581c3169c2446548e897b805">#![allow(unused_macros)]
fn main() {}
macro_rules! map {
    { $( $key: expr => $value: expr ),*, } => {
        map!( $( $key => $value ),* );
    };

    { $( $key: expr => $value: expr ),* } => {
        {
            let mut map = ::std::collections::HashMap::new();
            $( map.insert($key, $value); )*
            map
        }
    };
}</pre>
</div><div class="slide">
<h1 id="scoping">Scoping</h1>
<p>–ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä–∞ —Ä–∞–∑–≥—ä–≤–∞ –º–∞–∫—Ä–æ—Å–∏—Ç–µ –≤ —Ä–∞–Ω–Ω–∞ —Ñ–∞–∑–∞ –Ω–∞ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è, –∑–∞—Ç–æ–≤–∞ –∏–º–∞—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç</p>
</div><div class="slide subslide">
<h1 id="scoping">Scoping</h1>
<p>–ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä–∞ —Ä–∞–∑–≥—ä–≤–∞ –º–∞–∫—Ä–æ—Å–∏—Ç–µ –≤ —Ä–∞–Ω–Ω–∞ —Ñ–∞–∑–∞ –Ω–∞ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è, –∑–∞—Ç–æ–≤–∞ –∏–º–∞—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç</p>
<ul>
<li>–î–µ—Ñ–∏–Ω–∏—Ü–∏–∏—Ç–µ –∏ —Ä–∞–∑–≥—Ä—ä—â–∞–Ω–∏—è—Ç–∞ —Å–µ —Å–ª—É—á–≤–∞—Ç –≤ –µ–¥–Ω–æ depth-first lexical-order –æ–±—Ö–æ–∂–¥–∞–Ω–µ –Ω–∞ crate-a</li>
</ul>
</div><div class="slide subslide">
<h1 id="scoping">Scoping</h1>
<p>–ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä–∞ —Ä–∞–∑–≥—ä–≤–∞ –º–∞–∫—Ä–æ—Å–∏—Ç–µ –≤ —Ä–∞–Ω–Ω–∞ —Ñ–∞–∑–∞ –Ω–∞ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è, –∑–∞—Ç–æ–≤–∞ –∏–º–∞—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç</p>
<ul>
<li>–î–µ—Ñ–∏–Ω–∏—Ü–∏–∏—Ç–µ –∏ —Ä–∞–∑–≥—Ä—ä—â–∞–Ω–∏—è—Ç–∞ —Å–µ —Å–ª—É—á–≤–∞—Ç –≤ –µ–¥–Ω–æ depth-first lexical-order –æ–±—Ö–æ–∂–¥–∞–Ω–µ –Ω–∞ crate-a</li>
<li>–ó–∞—Ç–æ–≤–∞ –≤–∏–¥–∏–º–æ—Å—Ç—Ç–∞ –Ω–∞ –º–∞–∫—Ä–æ—Å –µ <em>—Å–ª–µ–¥</em> –¥–µ—Ñ–∏–Ω–∏—Ü–∏—è—Ç–∞ –º—É - –≤ —Å—ä—â–∏—è scope –∏ –≤ child mods</li>
</ul>
</div><div class="slide subslide">
<h1 id="scoping">Scoping</h1>
<p>–ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä–∞ —Ä–∞–∑–≥—ä–≤–∞ –º–∞–∫—Ä–æ—Å–∏—Ç–µ –≤ —Ä–∞–Ω–Ω–∞ —Ñ–∞–∑–∞ –Ω–∞ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è, –∑–∞—Ç–æ–≤–∞ –∏–º–∞—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç</p>
<ul>
<li>–î–µ—Ñ–∏–Ω–∏—Ü–∏–∏—Ç–µ –∏ —Ä–∞–∑–≥—Ä—ä—â–∞–Ω–∏—è—Ç–∞ —Å–µ —Å–ª—É—á–≤–∞—Ç –≤ –µ–¥–Ω–æ depth-first lexical-order –æ–±—Ö–æ–∂–¥–∞–Ω–µ –Ω–∞ crate-a</li>
<li>–ó–∞—Ç–æ–≤–∞ –≤–∏–¥–∏–º–æ—Å—Ç—Ç–∞ –Ω–∞ –º–∞–∫—Ä–æ—Å –µ <em>—Å–ª–µ–¥</em> –¥–µ—Ñ–∏–Ω–∏—Ü–∏—è—Ç–∞ –º—É - –≤ —Å—ä—â–∏—è scope –∏ –≤ child mods</li>
<li>–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å –æ—Ç –¥—Ä—É–≥ –º–æ–¥—É–ª —Å—Ç–∞–≤–∞ —á—Ä–µ–∑ <code>#[macro_use]</code> –ø—Ä–µ–¥–∏ –º—è—Å—Ç–æ—Ç–æ, –∫—ä–¥–µ—Ç–æ –≥–æ –ø–æ–ª–∑–≤–∞—Ç–µ</li>
</ul>
</div><div class="slide">
<h1 id="scoping">Scoping</h1>
<p>–ò–º–∞–º–µ –º–∞–∫—Ä–æ—Å–∏ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–∏ –≤ macros –∏ —â–µ –≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –≤ client</p>
<div class="split-view" markdown="1"><div class="lhs" markdown="1"><p>
                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-attribute">#<span class="tshl-punctuation_bracket">[</span>macro_use<span class="tshl-punctuation_bracket">]</span></span>
<span class="tshl-keyword">mod</span> macros<span class="tshl-punctuation_delimiter">;</span>
<span class="tshl-keyword">mod</span> client<span class="tshl-punctuation_delimiter">;</span> <span class="tshl-comment">// –æ–∫</span></code></pre>
                    </div>
                    
                </div>
                </p></div>
<div class="rhs" markdown="1"><p>
                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">mod</span> client<span class="tshl-punctuation_delimiter">;</span> <span class="tshl-comment">// –∫–æ–º–ø–∏–ª–∞—Ü–∏–æ–Ω–Ω–∞ –≥—Ä–µ—à–∫–∞</span>
<span class="tshl-attribute">#<span class="tshl-punctuation_bracket">[</span>macro_use<span class="tshl-punctuation_bracket">]</span></span>
<span class="tshl-keyword">mod</span> macros<span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    
                </div>
                </p></div></div>
</div><div class="slide">
<h1 id="scoping">Scoping</h1>
<p>–ü—Ä–∏ —Ä–∞–±–æ—Ç–∞ –Ω–∞ –Ω–∏–≤–æ crate</p>
</div><div class="slide subslide">
<h1 id="scoping">Scoping</h1>
<p>–ü—Ä–∏ —Ä–∞–±–æ—Ç–∞ –Ω–∞ –Ω–∏–≤–æ crate</p>
<ul>
<li>—Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ <code>#[macro_use]</code> –∑–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–æ –∏–ª–∏ <code>#[macro_use(my_macro, other_macro)]</code></li>
</ul>
</div><div class="slide subslide">
<h1 id="scoping">Scoping</h1>
<p>–ü—Ä–∏ —Ä–∞–±–æ—Ç–∞ –Ω–∞ –Ω–∏–≤–æ crate</p>
<ul>
<li>—Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ <code>#[macro_use]</code> –∑–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–æ –∏–ª–∏ <code>#[macro_use(my_macro, other_macro)]</code></li>
<li>–∑–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ –º–∞–∫—Ä–æ—Å–∏—Ç–µ –¥–æ—Å—Ç—ä–ø–Ω–∏ –∑–∞ –¥—Ä—É–≥–∏ crate-–æ–≤–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ <code>#[macro_export]</code></li>
</ul>
</div><div class="slide">
<h1 id="scoping">Scoping</h1>
<p>–ò–º–∞–º–µ –º–∞–∫—Ä–æ—Å–∏ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–∏ –≤ macros –∏ —â–µ –≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –≤ client</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-comment">// crate macros</span>

<span class="tshl-keyword">mod</span> some_module {
    <span class="tshl-attribute">#<span class="tshl-punctuation_bracket">[</span>macro_export<span class="tshl-punctuation_bracket">]</span></span>
    <span class="tshl-keyword">macro_rules!</span> hello {
        <span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>println!<span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;Hello!&quot;</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>
    }
}</code></pre>
                    </div>
                    
                </div>
                

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-comment">// crate client</span>

<span class="tshl-attribute">#<span class="tshl-punctuation_bracket">[</span>macro_use<span class="tshl-punctuation_bracket">]</span></span>
<span class="tshl-keyword">extern</span> crate macros<span class="tshl-punctuation_delimiter">;</span>

<span class="tshl-keyword">fn</span> <span class="tshl-function">main</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> {
    <span class="tshl-function_macro">hello</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="scoping">Scoping</h1>
<p>–ò–ª–∏ –ø–æ-–ª–µ—Å–Ω–∏—è—Ç –≤–∞—Ä–∏–∞–Ω—Ç - –∫–∞—Ç–æ –Ω–æ—Ä–º–∞–ª–µ–Ω import</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-comment">// crate macros</span>

<span class="tshl-keyword">mod</span> some_module {
    <span class="tshl-attribute">#<span class="tshl-punctuation_bracket">[</span>macro_export<span class="tshl-punctuation_bracket">]</span></span>
    <span class="tshl-keyword">macro_rules!</span> hello {
        <span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>println!<span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;Hello!&quot;</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>
    }
}</code></pre>
                    </div>
                    
                </div>
                

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-comment">// crate client</span>

<span class="tshl-comment">// notice top-level use</span>
<span class="tshl-keyword">use</span> macros<span class="tshl-punctuation_delimiter">::</span>hello<span class="tshl-punctuation_delimiter">;</span>

<span class="tshl-keyword">fn</span> <span class="tshl-function">main</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> {
    <span class="tshl-function_macro">hello</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="scoping">Scoping</h1>
<p>–ú–∞–∫—Ä–æ—Å–∏ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–∏ –≤ –±–ª–æ–∫–æ–≤–µ, —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –¥—Ä—É–≥–∏ –ø–æ–¥–æ–±–Ω–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–∞ –≤–∏–¥–∏–º–∏ —Å–∞–º–æ —Ç–∞–º</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">fn</span> <span class="tshl-function">main</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> {
    <span class="tshl-keyword">macro_rules!</span> map { ... }
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="scoping">Scoping</h1>
<p>–í–Ω–∏–º–∞–≤–∞–π—Ç–µ —Å –≤–∏–¥–∏–º–æ—Å—Ç—Ç–∞ –Ω–∞ —Ç–∏–ø–æ–≤–µ—Ç, –∫–æ–∏—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="8aab1807f55927f0c9c23c61185da78e6cb53b2e">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> try {
    <span class="tshl-punctuation_bracket">(</span>$expr:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {
        <span class="tshl-keyword">match</span> $expr {
            $crate::result::<span class="tshl-constructor">Result</span>::<span class="tshl-constructor">Ok</span><span class="tshl-punctuation_bracket">(</span>val<span class="tshl-punctuation_bracket">)</span> =&gt; val,
            $crate::result::<span class="tshl-constructor">Result</span>::<span class="tshl-constructor">Err</span><span class="tshl-punctuation_bracket">(</span>err<span class="tshl-punctuation_bracket">)</span> =&gt; {
                <span class="tshl-keyword">return</span> $crate::result::<span class="tshl-constructor">Result</span>::<span class="tshl-constructor">Err</span><span class="tshl-punctuation_bracket">(</span>$crate::convert::<span class="tshl-constructor">From</span>::from<span class="tshl-punctuation_bracket">(</span>err<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>;
            }
        }
    }<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>$expr:expr,<span class="tshl-punctuation_bracket">)</span> =&gt; {
        $crate::try!<span class="tshl-punctuation_bracket">(</span>$expr<span class="tshl-punctuation_bracket">)</span>
    }<span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">: expected identifier, found reserved keyword `try`</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_8aab1807f55927f0c9c23c61185da78e6cb53b2e.rs:3:14
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">3</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>macro_rules! try {
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>             <span style="font-weight:bold;color:rgb(255,85,85)">^^^</span> <span style="font-weight:bold;color:rgb(255,85,85)">expected identifier, found reserved keyword</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,187,187)">help</span>: you can escape reserved keywords to use them as identifiers
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">3</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>macro_rules! <span style="color:rgb(85,187,85)">r#try</span> {
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>             <span style="color:rgb(85,187,85)">~~~~~</span>

<span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">:</span> could not compile `rust` due to previous error</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="8aab1807f55927f0c9c23c61185da78e6cb53b2e">#[allow(unused_macros)]
macro_rules! try {
    ($expr:expr) => {
        match $expr {
            $crate::result::Result::Ok(val) => val,
            $crate::result::Result::Err(err) => {
                return $crate::result::Result::Err($crate::convert::From::from(err));
            }
        }
    };
    ($expr:expr,) => {
        $crate::try!($expr)
    };
}
fn main() {}</pre>
</div><div class="slide">
<h1 id="quality-of-life">Quality of life</h1>
<p>–ê–∫–æ —Å–µ —á—É–¥–∏—Ç–µ –æ—Ç –∫—ä–¥–µ –¥–∞ –≤–∏–¥–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ç–µ –∞—Ç—Ä–∏–±—É—Ç–µ - <a href="https://doc.rust-lang.org/stable/reference/attributes.html#macro-related-attributes" target="_blank">https://doc.rust-lang.org/stable/reference/attributes.html#macro-related-attributes</a></p>
</div><div class="slide">
<h1 id="debugging">Debugging</h1>
<p>–î–µ–±—ä–≥–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∏ –µ —Å–ª–æ–∂–Ω–æ, –Ω–æ –∏–º–∞ –Ω—è–∫–æ–∏ –ø–æ–ª–µ–∑–Ω–∏ –∫–æ–º–∞–Ω–¥–∏</p>
</div><div class="slide subslide">
<h1 id="debugging">Debugging</h1>
<p>–î–µ–±—ä–≥–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∏ –µ —Å–ª–æ–∂–Ω–æ, –Ω–æ –∏–º–∞ –Ω—è–∫–æ–∏ –ø–æ–ª–µ–∑–Ω–∏ –∫–æ–º–∞–Ω–¥–∏</p>
<ul>
<li><code>cargo +nightly rustc --profile=check -- -Zunpretty=expanded</code></li>
</ul>
</div><div class="slide subslide">
<h1 id="debugging">Debugging</h1>
<p>–î–µ–±—ä–≥–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∏ –µ —Å–ª–æ–∂–Ω–æ, –Ω–æ –∏–º–∞ –Ω—è–∫–æ–∏ –ø–æ–ª–µ–∑–Ω–∏ –∫–æ–º–∞–Ω–¥–∏</p>
<ul>
<li><code>cargo +nightly rustc --profile=check -- -Zunpretty=expanded</code></li>
<li><code>cargo +nightly rustc --profile=check -- -Zunpretty=expanded,hygiene</code> –∑–∞–ø–∞–∑–≤–∞ —Å–∏–Ω—Ç–∞–∫—Ç–∏—á–Ω–∏—Ç–µ scope-–æ–≤–µ</li>
</ul>
</div><div class="slide subslide">
<h1 id="debugging">Debugging</h1>
<p>–î–µ–±—ä–≥–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∏ –µ —Å–ª–æ–∂–Ω–æ, –Ω–æ –∏–º–∞ –Ω—è–∫–æ–∏ –ø–æ–ª–µ–∑–Ω–∏ –∫–æ–º–∞–Ω–¥–∏</p>
<ul>
<li><code>cargo +nightly rustc --profile=check -- -Zunpretty=expanded</code></li>
<li><code>cargo +nightly rustc --profile=check -- -Zunpretty=expanded,hygiene</code> –∑–∞–ø–∞–∑–≤–∞ —Å–∏–Ω—Ç–∞–∫—Ç–∏—á–Ω–∏—Ç–µ scope-–æ–≤–µ</li>
</ul>
<p>–ò–ª–∏ –º–æ–∂–µ –¥–∞ –∏–∑–ø–æ–ª–≤–∞–º–µ extension –∑–∞ cargo</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
</div>
                        <pre><code class="shsh language-sh hljs">cargo install cargo-expand
cargo expand</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="debugging">Debugging</h1>
<p>–ò–º–∞ –∏ —É–¥–æ–±–Ω–∏, –Ω–æ –Ω–µ—Å—Ç–∞–±–∏–ª–Ω–∏ –º–∞–∫—Ä–æ—Å–∏, –∫–æ–∏—Ç–æ —Å–µ –ø–æ–ª–∑–≤–∞—Ç –ø—Ä–µ–∑ feature gate –Ω–∞ nightly</p>
</div><div class="slide subslide">
<h1 id="debugging">Debugging</h1>
<p>–ò–º–∞ –∏ —É–¥–æ–±–Ω–∏, –Ω–æ –Ω–µ—Å—Ç–∞–±–∏–ª–Ω–∏ –º–∞–∫—Ä–æ—Å–∏, –∫–æ–∏—Ç–æ —Å–µ –ø–æ–ª–∑–≤–∞—Ç –ø—Ä–µ–∑ feature gate –Ω–∞ nightly</p>
<ul>
<li><code>log_syntax!(...)</code> - –ø—Ä–∏–Ω—Ç–∏—Ä–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ —Å–∏ –ø—Ä–∏ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è –Ω–∞ stdout –∏ —Å–µ —Ä–∞–∑–≥—Ä—ä—â–∞ –¥–æ –Ω–∏—â–æ</li>
</ul>
</div><div class="slide subslide">
<h1 id="debugging">Debugging</h1>
<p>–ò–º–∞ –∏ —É–¥–æ–±–Ω–∏, –Ω–æ –Ω–µ—Å—Ç–∞–±–∏–ª–Ω–∏ –º–∞–∫—Ä–æ—Å–∏, –∫–æ–∏—Ç–æ —Å–µ –ø–æ–ª–∑–≤–∞—Ç –ø—Ä–µ–∑ feature gate –Ω–∞ nightly</p>
<ul>
<li><code>log_syntax!(...)</code> - –ø—Ä–∏–Ω—Ç–∏—Ä–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ —Å–∏ –ø—Ä–∏ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è –Ω–∞ stdout –∏ —Å–µ —Ä–∞–∑–≥—Ä—ä—â–∞ –¥–æ –Ω–∏—â–æ</li>
<li><code>trace_macros!(true)</code> - –≤–∫–ª—é—á–≤–∞ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ —Ä–∞–∑–≥—Ä—ä—â–∞–Ω–µ –Ω–∞ –º–∞–∫—Ä–æ—Å</li>
</ul>
</div><div class="slide subslide">
<h1 id="debugging">Debugging</h1>
<p>–ò–º–∞ –∏ —É–¥–æ–±–Ω–∏, –Ω–æ –Ω–µ—Å—Ç–∞–±–∏–ª–Ω–∏ –º–∞–∫—Ä–æ—Å–∏, –∫–æ–∏—Ç–æ —Å–µ –ø–æ–ª–∑–≤–∞—Ç –ø—Ä–µ–∑ feature gate –Ω–∞ nightly</p>
<ul>
<li><code>log_syntax!(...)</code> - –ø—Ä–∏–Ω—Ç–∏—Ä–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ç–µ —Å–∏ –ø—Ä–∏ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è –Ω–∞ stdout –∏ —Å–µ —Ä–∞–∑–≥—Ä—ä—â–∞ –¥–æ –Ω–∏—â–æ</li>
<li><code>trace_macros!(true)</code> - –≤–∫–ª—é—á–≤–∞ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ —Ä–∞–∑–≥—Ä—ä—â–∞–Ω–µ –Ω–∞ –º–∞–∫—Ä–æ—Å</li>
<li><code>trace_macros!(false)</code> - –∏–∑–∫–ª—é—á–≤–∞ —Å—ä–æ–±—â–µ–Ω–∏—è—Ç–∞</li>
</ul>
</div><div class="slide">
<h1 id="—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏-–º–∞–∫—Ä–æ—Å–∏">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ –º–∞–∫—Ä–æ—Å–∏</h1>
</div><div class="slide subslide">
<h1 id="—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏-–º–∞–∫—Ä–æ—Å–∏">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ –º–∞–∫—Ä–æ—Å–∏</h1>
<ul>
<li><code>panic!</code> - –ø–∞–Ω–∏—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞</li>
</ul>
</div><div class="slide subslide">
<h1 id="—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏-–º–∞–∫—Ä–æ—Å–∏">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ –º–∞–∫—Ä–æ—Å–∏</h1>
<ul>
<li><code>panic!</code> - –ø–∞–Ω–∏—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞</li>
<li><code>vec!</code> - —Å—ä–∑–¥–∞–≤–∞ –≤–µ–∫—Ç–æ—Ä –æ—Ç –µ–ª–µ–º–µ–Ω—Ç–∏</li>
</ul>
</div><div class="slide subslide">
<h1 id="—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏-–º–∞–∫—Ä–æ—Å–∏">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ –º–∞–∫—Ä–æ—Å–∏</h1>
<ul>
<li><code>panic!</code> - –ø–∞–Ω–∏—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞</li>
<li><code>vec!</code> - —Å—ä–∑–¥–∞–≤–∞ –≤–µ–∫—Ç–æ—Ä –æ—Ç –µ–ª–µ–º–µ–Ω—Ç–∏</li>
<li><code>assert!</code> &amp; <code>assert_eq!</code> - –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Å–µ –ø—Ä–∏ —Ç–µ—Å—Ç–æ–≤–µ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ</li>
</ul>
</div><div class="slide subslide">
<h1 id="—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏-–º–∞–∫—Ä–æ—Å–∏">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ –º–∞–∫—Ä–æ—Å–∏</h1>
<ul>
<li><code>panic!</code> - –ø–∞–Ω–∏—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞</li>
<li><code>vec!</code> - —Å—ä–∑–¥–∞–≤–∞ –≤–µ–∫—Ç–æ—Ä –æ—Ç –µ–ª–µ–º–µ–Ω—Ç–∏</li>
<li><code>assert!</code> &amp; <code>assert_eq!</code> - –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Å–µ –ø—Ä–∏ —Ç–µ—Å—Ç–æ–≤–µ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ</li>
<li><a href="https://doc.rust-lang.org/stable/std/#macros" target="_blank">https://doc.rust-lang.org/stable/std/#macros</a></li>
</ul>
</div><div class="slide">
<h1 id="advanced">Advanced</h1>
<h3 id="tt-muncher-tokentree-muncher-–∏–ª–∏-—Å–∞–º–æ-token-muncher">TT Muncher (TokenTree Muncher –∏–ª–∏ —Å–∞–º–æ Token Muncher)</h3>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="69ea2a52d4b965dca79eab57350839ede7b71b8f">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> write_html {
    <span class="tshl-punctuation_bracket">(</span>$w: expr, <span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>

    <span class="tshl-punctuation_bracket">(</span>$w: expr, $e: tt<span class="tshl-punctuation_bracket">)</span> =&gt; <span class="tshl-punctuation_bracket">(</span>write!<span class="tshl-punctuation_bracket">(</span>$w, <span class="tshl-string">&quot;{}&quot;</span>, $e<span class="tshl-punctuation_bracket">)</span>?<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span>

    <span class="tshl-punctuation_bracket">(</span>$w: expr, $tag: ident <span class="tshl-punctuation_bracket">[</span> $<span class="tshl-punctuation_bracket">(</span> $inner: tt <span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span> <span class="tshl-punctuation_bracket">]</span> $<span class="tshl-punctuation_bracket">(</span> $rest: tt <span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span> =&gt; {{
        write!<span class="tshl-punctuation_bracket">(</span>$w, <span class="tshl-string">&quot;&lt;{}&gt;&quot;</span>, stringify!<span class="tshl-punctuation_bracket">(</span>$tag<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>?;
        write_html!<span class="tshl-punctuation_bracket">(</span>$w, $<span class="tshl-punctuation_bracket">(</span>$inner<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span>;
        write!<span class="tshl-punctuation_bracket">(</span>$w, <span class="tshl-string">&quot;&lt;/{}&gt;&quot;</span>, stringify!<span class="tshl-punctuation_bracket">(</span>$tag<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>?;
        write_html!<span class="tshl-punctuation_bracket">(</span>$w, $<span class="tshl-punctuation_bracket">(</span>$rest<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span>;
    }}<span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    
                </div>
                
<pre class="rustc-source" data-sha="69ea2a52d4b965dca79eab57350839ede7b71b8f">#![allow(unused_macros)]
fn main() {}
macro_rules! write_html {
    ($w: expr, ) => (());

    ($w: expr, $e: tt) => (write!($w, "{}", $e)?);

    ($w: expr, $tag: ident [ $( $inner: tt )* ] $( $rest: tt )*) => {{
        write!($w, "<{}>", stringify!($tag))?;
        write_html!($w, $($inner)*);
        write!($w, "</{}>", stringify!($tag))?;
        write_html!($w, $($rest)*);
    }};
}</pre>
</div><div class="slide">
<h1 id="advanced">Advanced</h1>
<h3 id="tt-muncher">TT Muncher</h3>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-function_macro">write_html</span><span class="tshl-function_macro">!</span> {
    &amp;<span class="tshl-keyword">mut</span> out,
    html<span class="tshl-punctuation_bracket">[</span>
        head<span class="tshl-punctuation_bracket">[</span>title<span class="tshl-punctuation_bracket">[</span><span class="tshl-string">&quot;Macros guide&quot;</span><span class="tshl-punctuation_bracket">]</span><span class="tshl-punctuation_bracket">]</span>
        body<span class="tshl-punctuation_bracket">[</span>h1<span class="tshl-punctuation_bracket">[</span><span class="tshl-string">&quot;Macros are the best!&quot;</span><span class="tshl-punctuation_bracket">]</span><span class="tshl-punctuation_bracket">]</span>
    <span class="tshl-punctuation_bracket">]</span>
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="advanced">Advanced</h1>
<h3 id="push-down-accumulation">Push-Down Accumulation</h3>
<p>–ú–∞–∫—Ä–æ—Å, –∫–æ–π—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞ –º–∞—Å–∏–≤ –¥–æ 3 –µ–ª–µ–º–µ–Ω—Ç–∞</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="0961ca470b119a5bd59cbf39493d283aaca8d996">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> init_array {
    <span class="tshl-punctuation_bracket">[</span>$e:expr; $n:tt<span class="tshl-punctuation_bracket">]</span> =&gt; {{
        <span class="tshl-keyword">let</span> e = $e;
        init_array!<span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-punctuation_bracket">(</span>$n, e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span>
    }}<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">3</span>, $e:expr<span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span>$<span class="tshl-punctuation_bracket">(</span>$body:tt<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> =&gt; { init_array!<span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">2</span>, $e<span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span>$<span class="tshl-punctuation_bracket">(</span>$body<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span> $e,<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> }<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">2</span>, $e:expr<span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span>$<span class="tshl-punctuation_bracket">(</span>$body:tt<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> =&gt; { init_array!<span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">1</span>, $e<span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span>$<span class="tshl-punctuation_bracket">(</span>$body<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span> $e,<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> }<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">1</span>, $e:expr<span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span>$<span class="tshl-punctuation_bracket">(</span>$body:tt<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> =&gt; { init_array!<span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">0</span>, $e<span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span>$<span class="tshl-punctuation_bracket">(</span>$body<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span> $e,<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> }<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-punctuation_bracket">(</span><span class="tshl-constant_builtin">0</span>, $_e:expr<span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span>$<span class="tshl-punctuation_bracket">(</span>$body:tt<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_bracket">)</span> =&gt; { init_array!<span class="tshl-punctuation_bracket">(</span>@as_expr <span class="tshl-punctuation_bracket">[</span>$<span class="tshl-punctuation_bracket">(</span>$body<span class="tshl-punctuation_bracket">)</span><span class="tshl-operator">*</span><span class="tshl-punctuation_bracket">]</span><span class="tshl-punctuation_bracket">)</span> }<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@as_expr $e:expr<span class="tshl-punctuation_bracket">)</span> =&gt; { $e }<span class="tshl-punctuation_delimiter">;</span>
}

<span class="tshl-keyword">let</span> strings: <span class="tshl-punctuation_bracket">[</span><span class="tshl-type">String</span><span class="tshl-punctuation_delimiter">;</span> <span class="tshl-constant_builtin">3</span><span class="tshl-punctuation_bracket">]</span> = <span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">[</span><span class="tshl-constructor">String</span>::from<span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;hi!&quot;</span><span class="tshl-punctuation_bracket">)</span>; <span class="tshl-constant_builtin">3</span><span class="tshl-punctuation_bracket">]</span><span class="tshl-punctuation_delimiter">;</span>
<span class="tshl-function_macro">println</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;{:?}&quot;</span>, strings<span class="tshl-punctuation_bracket">)</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs">["hi!", "hi!", "hi!"]</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="0961ca470b119a5bd59cbf39493d283aaca8d996">macro_rules! init_array {
    [$e:expr; $n:tt] => {{
        let e = $e;
        init_array!(@accum ($n, e.clone()) -> ())
    }};
    (@accum (3, $e:expr) -> ($($body:tt)*)) => { init_array!(@accum (2, $e) -> ($($body)* $e,)) };
    (@accum (2, $e:expr) -> ($($body:tt)*)) => { init_array!(@accum (1, $e) -> ($($body)* $e,)) };
    (@accum (1, $e:expr) -> ($($body:tt)*)) => { init_array!(@accum (0, $e) -> ($($body)* $e,)) };
    (@accum (0, $_e:expr) -> ($($body:tt)*)) => { init_array!(@as_expr [$($body)*]) };
    (@as_expr $e:expr) => { $e };
}

fn main() {
let strings: [String; 3] = init_array![String::from("hi!"); 3];
println!("{:?}", strings);
}</pre>
</div><div class="slide">
<h1 id="advanced">Advanced</h1>
<h3 id="push-down-accumulation">Push-Down Accumulation</h3>
<p>–ê –Ω–µ –º–æ–∂–µ –ª–∏ –¥–∞ –æ–ø—Ä–æ—Å—Ç–∏–º –Ω–µ—â–∞—Ç–∞ –¥–æ —Ç–æ–≤–∞?</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> init_array {
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">0</span>, $_e:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {<span class="tshl-comment">/* empty */</span>}<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">1</span>, $e:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {$e}<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">2</span>, $e:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {$e, init_array!<span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">1</span>, $e<span class="tshl-punctuation_bracket">)</span>}<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">3</span>, $e:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {$e, init_array!<span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">2</span>, $e<span class="tshl-punctuation_bracket">)</span>}<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">[</span>$e:expr; $n:tt<span class="tshl-punctuation_bracket">]</span> =&gt; {
        {
            <span class="tshl-keyword">let</span> e = $e;
            <span class="tshl-punctuation_bracket">[</span> init_array!<span class="tshl-punctuation_bracket">(</span>@accum $n, e<span class="tshl-punctuation_bracket">)</span> <span class="tshl-punctuation_bracket">]</span>
        }
    }<span class="tshl-punctuation_delimiter">;</span>
}</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="advanced">Advanced</h1>
<h3 id="push-down-accumulation">Push-Down Accumulation</h3>
<p>–ù–µ‚Ä¶</p>

                <div class="code-block">
                    <button type="button" class="btn rustc-copy" data-sha="d7893d0d02408938f95722ad3842b5c665d42a1e">Copy</button>
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-keyword">macro_rules!</span> init_array {
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">0</span>, $_e:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {<span class="tshl-comment">/* empty */</span>}<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">1</span>, $e:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {$e}<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">2</span>, $e:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {$e, init_array!<span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">1</span>, $e<span class="tshl-punctuation_bracket">)</span>}<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">3</span>, $e:expr<span class="tshl-punctuation_bracket">)</span> =&gt; {$e, init_array!<span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">2</span>, $e<span class="tshl-punctuation_bracket">)</span>}<span class="tshl-punctuation_delimiter">;</span>
    <span class="tshl-punctuation_bracket">[</span>$e:expr; $n:tt<span class="tshl-punctuation_bracket">]</span> =&gt; {
        {
            <span class="tshl-keyword">let</span> e = $e;
            <span class="tshl-punctuation_bracket">[</span> init_array!<span class="tshl-punctuation_bracket">(</span>@accum $n, e<span class="tshl-punctuation_bracket">)</span> <span class="tshl-punctuation_bracket">]</span>
        }
    }<span class="tshl-punctuation_delimiter">;</span>
}

<span class="tshl-keyword">let</span> strings: <span class="tshl-punctuation_bracket">[</span><span class="tshl-type">String</span><span class="tshl-punctuation_delimiter">;</span> <span class="tshl-constant_builtin">3</span><span class="tshl-punctuation_bracket">]</span> = <span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">[</span><span class="tshl-constructor">String</span>::from<span class="tshl-punctuation_bracket">(</span><span class="tshl-string">&quot;hi!&quot;</span><span class="tshl-punctuation_bracket">)</span>; <span class="tshl-constant_builtin">3</span><span class="tshl-punctuation_bracket">]</span><span class="tshl-punctuation_delimiter">;</span></code></pre>
                    </div>
                    <div class="rustc-container">
                    <pre><div class="rustc hljs"><span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">: macro expansion ignores token `,` and any following</span>
 <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_d7893d0d02408938f95722ad3842b5c665d42a1e.rs:5:31
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">5</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>    (@accum 3, $e:expr) =&gt; {$e, init_array!(@accum 2, $e)};
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                              <span style="font-weight:bold;color:rgb(255,85,85)">^</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">9</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>            [ init_array!(@accum $n, e) ]
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>              <span style="font-weight:bold;color:rgb(85,85,255)">--------------------------</span> <span style="font-weight:bold;color:rgb(85,85,255)">help: you might be missing a semicolon here: `;`</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>              <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>              <span style="font-weight:bold;color:rgb(85,85,255)">caused by the macro expansion here</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: the usage of `init_array!` is likely invalid in expression context

<span style="font-weight:bold;color:rgb(255,85,85)">error[E0308]</span><span style="font-weight:bold">: mismatched types</span>
  <span style="font-weight:bold;color:rgb(85,85,255)">--&gt; </span>src/bin/main_d7893d0d02408938f95722ad3842b5c665d42a1e.rs:9:13
   <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
<span style="font-weight:bold;color:rgb(85,85,255)">9</span>  <span style="font-weight:bold;color:rgb(85,85,255)">| </span>            [ init_array!(@accum $n, e) ]
   <span style="font-weight:bold;color:rgb(85,85,255)">| </span>            <span style="font-weight:bold;color:rgb(255,85,85)">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span> <span style="font-weight:bold;color:rgb(255,85,85)">expected an array with a fixed size of 3 elements, found one with 1 element</span>
<span style="font-weight:bold;color:rgb(85,85,255)">...</span>
<span style="font-weight:bold;color:rgb(85,85,255)">15</span> <span style="font-weight:bold;color:rgb(85,85,255)">| </span>let strings: [String; 3] = init_array![String::from("hi!"); 3];
   <span style="font-weight:bold;color:rgb(85,85,255)">| </span>                           <span style="font-weight:bold;color:rgb(85,85,255)">-----------------------------------</span> <span style="font-weight:bold;color:rgb(85,85,255)">in this macro invocation</span>
   <span style="font-weight:bold;color:rgb(85,85,255)">|</span>
   <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: expected array `<span style="font-weight:bold">[String; 3]</span>`
              found array `<span style="font-weight:bold">[String; 1]</span>`
   <span style="font-weight:bold;color:rgb(85,85,255)">= </span><span style="font-weight:bold">note</span>: this error originates in the macro `init_array` (in Nightly builds, run with -Z macro-backtrace for more info)

<span style="font-weight:bold">For more information about this error, try `rustc --explain E0308`.</span>
<span style="font-weight:bold;color:rgb(255,85,85)">error</span><span style="font-weight:bold">:</span> could not compile `rust` due to 2 previous errors</div></pre>
                </div>
                </div>
                
<pre class="rustc-source" data-sha="d7893d0d02408938f95722ad3842b5c665d42a1e">macro_rules! init_array {
    (@accum 0, $_e:expr) => {/* empty */};
    (@accum 1, $e:expr) => {$e};
    (@accum 2, $e:expr) => {$e, init_array!(@accum 1, $e)};
    (@accum 3, $e:expr) => {$e, init_array!(@accum 2, $e)};
    [$e:expr; $n:tt] => {
        {
            let e = $e;
            [ init_array!(@accum $n, e) ]
        }
    };
}

fn main() {
let strings: [String; 3] = init_array![String::from("hi!"); 3];
}</pre>
</div><div class="slide">
<h1 id="advanced">Advanced</h1>
<h3 id="push-down-accumulation">Push-Down Accumulation</h3>
<p>‚Ä¶–∑–∞—â–æ—Ç–æ —Ç–æ–≤–∞ –±–∏ –¥–æ–≤–µ–ª–æ –¥–æ —Å–ª–µ–¥–Ω–æ—Ç–æ —Ä–∞–∑–≥—ä–≤–∞–Ω–µ</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">3</span>, e<span class="tshl-punctuation_bracket">)</span>
e, <span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">2</span>, e<span class="tshl-punctuation_bracket">)</span>
e, e, <span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span><span class="tshl-punctuation_bracket">(</span>@accum <span class="tshl-constant_builtin">1</span>, e<span class="tshl-punctuation_bracket">)</span>
e, e, e
<span class="tshl-punctuation_bracket">[</span>e, e, e<span class="tshl-punctuation_bracket">]</span><span class="tshl-punctuation_delimiter"></span></code></pre>
                    </div>
                    
                </div>
                
<p>–¢—É–∫ –≤—Å—è–∫–∞ –ø–æ–º–æ—â–Ω–∞ —Å—Ç—ä–ø–∫–∞ —â–µ –µ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω Rust —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ —Ç–æ–≤–∞ –Ω–µ –µ –ø–æ–∑–≤–æ–ª–µ–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ç—ä–ø–∫–∏—Ç–µ</p>
</div><div class="slide">
<h1 id="advanced">Advanced</h1>
<h3 id="push-down-accumulation">Push-Down Accumulation</h3>
<p>Push-Down –Ω–∏ –ø–æ–∑–≤–æ–ª—è–≤–∞ –¥–∞ –ø—Ä–∞–≤–∏–º –ø–æ–¥–æ–±–Ω–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —á—Ä–µ–∑ –∞–∫—É–º—É–ª–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω–∏, –±–µ–∑ –¥–∞ —Å–µ –Ω–∞–ª–∞–≥–∞ –¥–∞ –∏–º–∞–º–µ –≤–∞–ª–∏–¥–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–µ–∑ —Ü—è–ª–æ—Ç–æ –≤—Ä–µ–º–µ.</p>
</div><div class="slide">
<h1 id="advanced">Advanced</h1>
<h3 id="push-down-accumulation">Push-Down Accumulation</h3>
<p>–†–∞–∑–≥—ä–≤–∫–∞ –Ω–∞ –ø—ä—Ä–≤–∏—è –ø—Ä–∏–º–µ—Ä –∏–∑–≥–ª–µ–∂–¥–∞ —Ç–∞–∫–∞</p>

                <div class="code-block">
                    
                    <div class="code-container">
                        <div class="line-numbers hljs"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</div>
                        <pre><code class="rustrust language-rust hljs"><span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span> { <span class="tshl-constructor">String</span>:: from <span class="tshl-punctuation_bracket">(</span> <span class="tshl-string">&quot;hi!&quot;</span> <span class="tshl-punctuation_bracket">)</span> ; <span class="tshl-constant_builtin">3</span> }
<span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span> { @ accum <span class="tshl-punctuation_bracket">(</span> <span class="tshl-constant_builtin">3</span> , e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> <span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span>  <span class="tshl-punctuation_bracket">)</span> }
<span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span> { @ accum <span class="tshl-punctuation_bracket">(</span> <span class="tshl-constant_builtin">2</span> , e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> <span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span> e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> , <span class="tshl-punctuation_bracket">)</span> }
<span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span> { @ accum <span class="tshl-punctuation_bracket">(</span> <span class="tshl-constant_builtin">1</span> , e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> <span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span> e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> , e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> , <span class="tshl-punctuation_bracket">)</span> }
<span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span> { @ accum <span class="tshl-punctuation_bracket">(</span> <span class="tshl-constant_builtin">0</span> , e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> <span class="tshl-punctuation_bracket">)</span> -&gt; <span class="tshl-punctuation_bracket">(</span> e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> , e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> , e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> , <span class="tshl-punctuation_bracket">)</span> }
<span class="tshl-function_macro">init_array</span><span class="tshl-function_macro">!</span> { @ as_expr <span class="tshl-punctuation_bracket">[</span> e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> , e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> , e.clone<span class="tshl-punctuation_bracket">(</span><span class="tshl-punctuation_bracket">)</span> , <span class="tshl-punctuation_bracket">]</span> }</code></pre>
                    </div>
                    
                </div>
                
</div><div class="slide">
<h1 id="advanced">Advanced</h1>
<p>Push-Down Accumulation —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å TT Muncher, –∑–∞ –¥–∞ —Å–µ –ø–∞—Ä—Å–≤–∞—Ç –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–æ —Å–ª–æ–∂–Ω–∏ –≥—Ä–∞–º–∞—Ç–∏–∫–∏</p>
</div><div class="slide">
<h1 id="–º–∞—Ç–µ—Ä–∏–∞–ª–∏">–ú–∞—Ç–µ—Ä–∏–∞–ª–∏</h1>
<ul>
<li><a href="https://danielkeep.github.io/tlborm/book/README.html" target="_blank">The Little Book of Rust Macros</a></li>
</ul>
</div><div class="slide">
<h1 id="–≤—ä–ø—Ä–æ—Å–∏">–í—ä–ø—Ä–æ—Å–∏</h1>
</div>
    </main>
</body>
</html>
